import base64;exec base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KaW1wb3J0IHN5cwppbXBvcnQgcmUKaW1wb3J0IG9zCmltcG9ydCB4Ym1jZ3VpCmltcG9ydCB4Ym1jCmltcG9ydCBIVE1MUGFyc2VyCmltcG9ydCB4Ym1jcGx1Z2luCmltcG9ydCB4Ym1jYWRkb24KaW1wb3J0IHVybGxpYgppbXBvcnQgdXJsbGliMgppbXBvcnQgc3FsaXRlMwppbXBvcnQgYmFzZTY0CmltcG9ydCB6bGliCmZyb20gdXJsbGliMiBpbXBvcnQgSFRUUEVycm9yCmZyb20gdXJsbGliMiBpbXBvcnQgVVJMRXJyb3IKaW1wb3J0IHRyYWNlYmFjawppbXBvcnQgdW5pY29kZWRhdGEKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCByYW5kb20KaW1wb3J0IGRhdGV0aW1lCmZyb20gcmVxdWVzdHMgLiBwYWNrYWdlcyAuIHVybGxpYjMgLiBleGNlcHRpb25zIGltcG9ydCBJbnNlY3VyZVJlcXVlc3RXYXJuaW5nCnJlcXVlc3RzIC4gcGFja2FnZXMgLiB1cmxsaWIzIC4gZGlzYWJsZV93YXJuaW5ncyAoIEluc2VjdXJlUmVxdWVzdFdhcm5pbmcgKQppZiA5NyAtIDk3OiBPT29Pb08wbzBvME9PICsgSUlJSSAuIElpICUgb09PCl9fc2V0dGluZ3NfXyA9IHhibWNhZGRvbiAuIEFkZG9uICggaWQgPSAicGx1Z2luLnZpZGVvLnBhbGFudGlyIiApCmlmIDEgLSAxOiBJSSAtIGlpSUlpMWkxSWlpIC0gSTEgLSBJSW9vb08wb29PMG9vICogT09PCmlmIDUgLSA1OiBpMWlJMSArIG8wMG9PMG9vME8wTzAgLSBpaTFJMWlpMUlpSWkxICUgb29vT29PIC0gSWlJSTFJaUkKaWYgODUgLSA4NTogb28KaWYgNzAgLSA3MDogaUlpMTEgKyBJaTFJIC8gSTFJaUkxSUlJMTFpICsgb29Pb29PME9PTyAlIElpSUkxaTFJIC8gaUlpMTEKZGVmIG9vMG8gKCB0ZXh0ICkgOgogT09PME8wME8wID0gJzdTZTEwZ0FJZS1UMF9hJwogaWYgMTcgLSAxNzogSUlvb29PMG9vTzBvbwogT09PME8wME8wID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnTjFObE1UQm5RVWxsTFZRd1gyRT0nICkKIHRyeSA6CiAgbzBvb28gPSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIHN0ciAoIHRleHQgKSApCiAgSUkxMTExSTEgPSBbIF0KICBmb3IgTzAwT29vMG8wT08gaW4geHJhbmdlICggbGVuICggbzBvb28gKSApIDoKICAgSTFpSTFpaWlJaUkxID0gT09PME8wME8wIFsgTzAwT29vMG8wT08gJSBsZW4gKCBPT08wTzAwTzAgKSBdCiAgIE9PME8wID0gY2hyICggb3JkICggbzBvb28gWyBPMDBPb28wbzBPTyBdICkgLSBvcmQgKCBJMWlJMWlpaUlpSTEgKSAlIDI1NiApCiAgIElJMTExMUkxIC4gYXBwZW5kICggT08wTzAgKQogIGlpMWkxaWkxSSA9ICcnIC4gam9pbiAoIElJMTExMUkxICkKICByZXR1cm4gaWkxaTFpaTFJCiBleGNlcHQgVHlwZUVycm9yICwgbzBvMDAwME8wIDoKICByZXR1cm4gdGV4dAogIGlmIDcwIC0gNzA6IGkxaUkxICUgSWkxSQogIGlmIDY0IC0gNjQ6IG9vIC4gT09vT29PMG8wbzBPTyAuIE9PTyAtIGlpMUkxaWkxSWlJaTEgLiBvb29Pb08gKiBJaQogIGlmIDYzIC0gNjM6IE9Pb09vTzBvMG8wT08gLiBpaUlJaTFpMUlpaSAvIElJb29vTzBvb08wb28gLiBJaSAvIElJb29vTzBvb08wb28gJSBpaTFJMWlpMUlpSWkxCiAgaWYgMyAtIDM6IGlJaTExICUgb29Pb29PME9PTyAqIElpSUkxaTFJIC8gT09PICogSWlJSTFpMUkKICBpZiA1MSAtIDUxOiBpaUlJaTFpMUlpaSAuIElpSUkxaTFJICUgT09vT29PMG8wbzBPTwogIGlmIDMxIC0gMzE6IGkxaUkxIC8gaTFpSTEgJSBJSSAqIElpSUkxaTFJIC0gSUkKZGVmIE9PbzAwMDBvTyAoICkgOgogcmV0dXJuICdlSnpMS0NrcHNOTFhMOC1zU2l4S1NVNHN5VV9NMFVzdHJnUmlfWURFbk1TOGtzd2lBTzItRFUwPScKIGlmIDQ4IC0gNDg6IGlpSUlpMWkxSWlpICUgT09PCiBpZiA1MiAtIDUyOiBJSQpkZWYgSTExMUkxMUkxMTExMSAoIGJhcyApIDoKIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogSTExaUlpSUlpID0gJycKIGlmIDI4IC0gMjg6IElJSUkKIHRyeSA6CiAgaWYgNTYgLSA1NjogaWlJSWkxaTFJaWkgKyBJSUlJIC4gSWlJSTFpMUkgLSBvb09vb08wT09PICsgb28gLyBJaUlJMUlpSQogIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVTJWc1pXTjBJR3h2WXlCbWNtOXRJSFpsY25OcGIyND0nICkgKQogIG9PID0gT08wbyAuIGZldGNob25lICggKQogIEkxMWlJaUlJaSA9IG9PIFsgMCBdCiAgSUlJaWkxSWkgLiBjbG9zZSAoICkKIGV4Y2VwdCA6CiAgdHJ5IDoKICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICBleGNlcHQgOgogICBwYXNzCiAgIGlmIDQwIC0gNDA6IGlpMUkxaWkxSWlJaTEgKiBvbyAvIEkxCiAgdHJ5IDoKICAgb3MgLiByZW1vdmUgKCBiYXMgKQogIGV4Y2VwdCA6CiAgIHBhc3MKIHJldHVybiBzdHIgKCBJMTFpSWlJSWkgLiBzdHJpcCAoICkgKQogaWYgMjggLSAyODogaUlpMTEgLSBvMDBvTzBvbzBPME8wIC8gb29Pb29PME9PTyArIElpSUkxaTFJIC8gSWkKIGlmIDQxIC0gNDE6IGkxaUkxIC0gT09PICUgSTFJaUkxSUlJMTFpIC0gSUlvb29PMG9vTzBvbyArIEkxSWlJMUlJSTExaQpkZWYgSTFpaUkxSSAoIHVybCAsIHBvc3QgPSBOb25lICkgOgogaWYgMTIgLSAxMjogaWkxSTFpaTFJaUlpMQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgZW4tR0I7IHJ2OjEuOC4xLjE0KSBHZWNrby8yMDA4MDQwNCBGaXJlZm94LzIuMC4wLjE0JyB9CiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCB1cmwgLCBwb3N0ICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIHJldHVybiBpaUlJCiBpZiA1MSAtIDUxOiBJSUlJIC8gaWlJSWkxaTFJaWkKIGlmIDU2IC0gNTY6IGkxaUkxCmRlZiBpMUkxSUlJSUkgKCBiZCAsIGlkICwgdmFsICwgdHlwZSApIDoKIHRyeSA6CiAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiZCApICkgKQogIGlmIDkyIC0gOTI6IEkxIC0gSTFJaUkxSUlJMTFpIC8gb28gLiBPT29Pb08wbzBvME9PIC8gSUkgLSBvT08KICBvb08wMDBvT28wMCA9ICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlFtRnpaVVJoZEc5ekwzRjFZV3hwZEhrdWNHaHdQM1I1Y0dVOUpYTnBaRDBsY3laMllXdzlKWE09JyApICkgJSAoCiBJMTFpSWlJSWkgLCB0eXBlICwgaWQgLCBzdHIgKCB2YWwgKSApCiAgSTFpaUkxSSAoIG9vTzAwMG9PbzAwICkKICBvTzAwb29Pb09PbzBvID0gaWQgLiBzcGxpdCAoICctJyApCiAgaWYgOSAtIDk6IGlpSUlpMWkxSWlpICUgT09PICogb09PICsgaWlJSWkxaTFJaWkgLiBJaUlJMUlpSQogIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiZCApCiAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICBpZiBvTzAwb29Pb09PbzBvIFsgMiBdIDoKICAgIGlmIDEwMCAtIDEwMDogb09PIC4gb28gLyBJaSAqIElJSUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKAogJ1ZWQkVRVlJGSUdOaGNHbDBkV3h2Y3lCVFJWUWdjWFZoYkdsMGVUMF9JRmRJUlZKRklITmxjbWxsWDJsa0lEMGdQeUJCVGtRZ2RHVnRjRjlwWkNBOUlEOGdRVTVFSUdOaGNHbDBkV3h2WDJsa0lEMGdQdz09JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMSBdICkgLCBvTzAwb29Pb09PbzBvIFsgMiBdICwgKSApCiAgIGVsaWYgb08wMG9vT29PT28wbyBbIDEgXSA6CiAgICBpZiAxMyAtIDEzOiBvT08gKyBvT08gKyBJSUlJIC4gSUkgLSBJSW9vb08wb29PMG9vICogb29Pb29PME9PTwogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdWVkJFUVZSRklITmxjbWxsYzE5MFpXMXdJRk5GVkNCeGRXRnNhWFI1UFQ4Z1YwaEZVa1VnYzJWeWFXVmZhV1FnUFNBX0lFRk9SQ0IwWlcxd1gybGtJRDBnUHc9PScgKSAsCiAoIHN0ciAoIHZhbCApICwgaW50ICggb08wMG9vT29PT28wbyBbIDAgXSApICwgaW50ICggb08wMG9vT29PT28wbyBbIDEgXSApICwgKSApCiAgIGVsaWYgb08wMG9vT29PT28wbyBbIDAgXSA6CiAgICBpZiAzNSAtIDM1OiBvT08KICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGN5QlRSVlFnY1hWaGJHbDBlVDBfSUZkSVJWSkZJSE5sY21sbFgybGtJRDBnUHc9PScgKSAsCiAoIHN0ciAoIHZhbCApICwgaW50ICggb08wMG9vT29PT28wbyBbIDAgXSApICwgKSApCiAgZWxzZSA6CiAgIGlmIDkyIC0gOTI6IGkxaUkxCiAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSEJsYkdseklGTkZWQ0J4ZFdGc2FYUjVQVDhnVjBoRlVrVWdjR1ZzYVY5cFpDQTlJRDg9JyApICwKICggc3RyICggdmFsICkgLCBpbnQgKCBvTzAwb29Pb09PbzBvIFsgMCBdICkgLCApICkKICBJSUlpaTFJaSAuIGNvbW1pdCAoICkKICBJSUlpaTFJaSAuIGNsb3NlICggKQogZXhjZXB0IEV4Y2VwdGlvbiBhcyBvMG8wMDAwTzAgOgogIHBhc3MKICBpZiA4NyAtIDg3OiBvb29Pb08gLyBJMSAlIGlpSUlpMWkxSWlpCiAgaWYgNDkgLSA0OTogT09PICogSWkxSSAuIE9PTwpkZWYgb29PME8wTyAoIGxpbmsgLCBiZCAsIGlkICwgdGVtcF9pZCA9IDAgKSA6CiBpaUlpaTFJSWkxSSA9IFsgXQogdHJ5IDoKICBpSWlpSWkxaTFpMWkxID0geyAnVXNlci1hZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6MTkuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC8xOS4wJyB9CiAgb29PMDAwb09vMDAgPSBvbzBvICggc3RyICggbGluayApICkKICBpSWlpSWkxaTFpMWkxIFsgJ3JlZmVyZXInIF0gPSAnLycgLiBqb2luICggb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgOiA0IF0gKQogIGlJaWlJaTFpMWkxaTEgWyAnY29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogIElpMTEgPSB1cmxsaWIyIC4gUmVxdWVzdCAoIG9vTzAwMG9PbzAwICwgTm9uZSAsIGlJaWlJaTFpMWkxaTEgKQogIEkxMUlpaTExaTFJaTEgPSB1cmxsaWIyIC4gdXJsb3BlbiAoIElpMTEgKQogIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKICBJMTFJaWkxMWkxSWkxIC4gY2xvc2UgKCApCiAgSUlpMTFJaTEgPSAnLycgLiBqb2luICggb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgMCA6IDUgXSApCiAgTzBPbzBvT08gPSByZSAuIGZpbmRhbGwgKCAnY2xhc3M9Imxpc3Rfcm93Ii4qZGF0YS1maWxlLWlkPSIoLio/KSInICwgaWlJSSApCiAgaWYgNDggLSA0ODogSUlJSSAqIGlJaTExICsgSTFJaUkxSUlJMTFpCiAgT09vb08wTyA9IHJlIC4gZmluZGFsbCAoICdjbGFzcz0ibmFtZSI+XHMqPGEuKmRhdGEtYWN0aW9uLWJlZm9yZT0icHJldmlldyIuKj4oLio/KTwvYT4nICwgaWlJSSApCiAgbzBvID0gSFRNTFBhcnNlciAuIEhUTUxQYXJzZXIgKCApCiAgaWYgNyAtIDc6IG8wMG9PMG9vME8wTzAgLiBvb29Pb08gJSBJaQogIGlmIGxlbiAoIE8wT28wb09PICkgPiAwIDoKICAgdHJ5IDoKICAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiZCApCiAgICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgaWYgMzIgLSAzMjogaWkxSTFpaTFJaUlpMSArIEkxIC0gSWlJSTFpMUkgJSBJaTFJICsgb09PCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHNWZaWEJwSUdaeWIyMGdjMlZ5YVdWelgzUmxiWEFnVjBoRlVrVWdjMlZ5YVdWZmFXUWdQU0FfSUVGT1JDQjBaVzF3WDJsa0lEMGdQdz09JyApICwgKCBpZCAsIHRlbXBfaWQgLCApICkKICAgIGVsc2UgOgogICAgIGlmIDEgLSAxOiBPT29Pb08wbzBvME9PICUgSTFJaUkxSUlJMTFpCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHNWZaWEJwSUdaeWIyMGdjMlZ5YVdWeklGZElSVkpGSUhObGNtbGxYMmxrSUQwZ1B3PT0nICkgLCAoIGlkICwgKSApCiAgICBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgICBpZiBvTyBbIDAgXSA8IGxlbiAoIE8wT28wb09PICkgOgogICAgIEkxMWlJaUlJaSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMTExSTExSTExMTExICggYmQgKSApICkKICAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgIGlmIDc1IC0gNzU6IElpSUkxSWlJCiAgICAgIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDJWd2FTNXdhSEFfYVdROUpYTW1kR1Z0Y0QwbGN5WjJZV3c5SlhNPScgKSApICUgKAogSTExaUlpSUlpICwgaWQgLCB0ZW1wX2lkICwgc3RyICggbGVuICggTzBPbzBvT08gKSApICkKICAgICBlbHNlIDoKICAgICAgaWYgMzYgLSAzNjogb29vT29PICUgSTFJaUkxSUlJMTFpCiAgICAgIG9vTzAwMG9PbzAwID0gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12UW1GelpVUmhkRzl6TDJWd2FTNXdhSEFfYVdROUpYTW1kbUZzUFNWeicgKSApICUgKAogSTExaUlpSUlpICwgaWQgLCBzdHIgKCBsZW4gKCBPME9vMG9PTyApICkgKQogICAgIEkxaWlJMUkgKCBvb08wMDBvT28wMCApCiAgICAgaWYgMzggLSAzODogT09PICogSWkKICAgICBJSUlpaTFJaSA9IHNxbGl0ZTMgLiBjb25uZWN0ICggYmQgKQogICAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgICBpZiB0ZW1wX2lkID4gMCA6CiAgICAgIGlmIDYgLSA2OiBvbyAlIEkxSWlJMUlJSTExaSAuIGlJaTExICsgb29vT29PIC4gb28gJSBpaTFJMWlpMUlpSWkxCiAgICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGMxOTBaVzF3SUZORlZDQnVYMlZ3YVQwX0lGZElSVkpGSUhObGNtbGxYMmxrSUQwZ1B5QkJUa1FnZEdWdGNGOXBaQ0E5SUQ4PScgKSAsICggbGVuICggTzBPbzBvT08gKSAsIGlkICwgdGVtcF9pZCAsICkgKQogICAgIGVsc2UgOgogICAgICBpZiAxNyAtIDE3OiBPT29Pb08wbzBvME9PIC0gSUlvb29PMG9vTzBvbyArIGlpSUlpMWkxSWlpCiAgICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnVlZCRVFWUkZJSE5sY21sbGN5QlRSVlFnYmw5bGNHazlQeUJYU0VWU1JTQnpaWEpwWlY5cFpDQTlJRDg9JyApICwgKCBsZW4gKCBPME9vMG9PTyApICwgaWQgLCApICkKICAgICBJSUlpaTFJaSAuIGNvbW1pdCAoICkKICAgICBJSUlpaTFJaSAuIGNsb3NlICggKQogICBleGNlcHQgRXhjZXB0aW9uIGFzIG8wbzAwMDBPMCA6CiAgICBwYXNzCiAgZm9yIGkxSUkxSSBpbiB4cmFuZ2UgKCAwICwgbGVuICggTzBPbzBvT08gKSApIDoKICAgaWlJaWkxSUlpMUkgLiBhcHBlbmQgKCAoIG8wbyAuIHVuZXNjYXBlICggT09vb08wTyBbIGkxSUkxSSBdIC4gZGVjb2RlICggJ3V0Zi04JyApICkgLCBvT09PT28gKCAnJXMvcCwlcyxsaXN0LDEsMy5hdmknICUgKCBJSWkxMUlpMSAsIE8wT28wb09PIFsgaTFJSTFJIF0gKSApICkgKQogZXhjZXB0ICggSFRUUEVycm9yICwgVVJMRXJyb3IgKSBhcyBvMG8wMDAwTzAgOgogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoICdFbmxhY2UgYm9ycmFkbycgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGludCAoIHN5cyAuIGFyZ3YgWyAxIF0gKSAsIEZhbHNlICwgb29PICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ0VubGFjZSBib3JyYWRvJyAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fV0FSTklORyAsIDUwMDAgKQogcmV0dXJuIGlpSWlpMUlJaTFJCiBpZiA0OSAtIDQ5OiBvbyAqIGlJaTExICUgSUkgKyBJMQpkZWYgSWkxSUlpSTExaUkxICggdXJsICwgZGVjb2RlID0gVHJ1ZSApIDoKIGlmIGRlY29kZSA6CiAgdXJsID0gb28wbyAoIHVybCApCiAgaWYgODIgLSA4MjogSWkxSSAqIGkxaUkxIC0gb28gLiBpaUlJaTFpMUlpaSAuIEkxSWlJMUlJSTExaSAlIG8wMG9PMG9vME8wTzAKIGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHbHphMjlyYjNOdGFXdHYnICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdzPScgKQogIGlmIDc2IC0gNzY6IElpSUkxaTFJICUgaUlpMTEgKyBPT08gKyBpaTFJMWlpMUlpSWkxCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1kyOXdhV0Z3YjNBPScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZM0E9JyApCiAgaWYgNjcgLSA2NzogSUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZMnh2ZFdRPScgKSBpbiB1cmwgOgogIGlmIDI0IC0gMjQ6IElJIC8gb29vT29PIC0gT09vT29PMG8wbzBPTyAtIGlpMUkxaWkxSWlJaTEKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFdzPScgKQogIGlmIDQwIC0gNDA6IElJIC0gSUlvb29PMG9vTzBvbyAvIGlJaTExICogSUkgLiBJaQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjR0Z5ZEdGbmIzSmgnICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY0hRPScgKQogIGlmIDc4IC0gNzg6IElpMUkgKyBPT08gLSBvT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYXkxaVlXZHAnICkgaW4gdXJsIG9yIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2EySmhaMms9JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2EyST0nICkKICBpZiAzMiAtIDMyOiBJaSAuIGlpSUlpMWkxSWlpIC8gb29vT29PICUgSWlJSTFpMUkgLyBJMSAqIG8wMG9PMG9vME8wTzAKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY25SMlpRPT0nICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY21VPScgKQogIGlmIDUzIC0gNTM6IE9PTyAqIG9vT29vTzBPT08gJSBpSWkxMQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPT0nICkgaW4gdXJsIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZVhRPScgKQogIGlmIDE1IC0gMTU6IElpSUkxSWlJICsgSUlJSSAqIGlJaTExIC4gSUkKIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYUhSMGNITTZMeTluYkc5eWFXRXVkSFl2JyApIGluIHVybCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoJyApCiAgaWYgNiAtIDY6IEkxCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1oyeHZjbWxoTG5SMicgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1JoYm1SaGNtUT0nICkKICBpZiA5NCAtIDk0OiBJSW9vb08wb29PMG9vICsgb29vT29PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHVnNhWE5wY0dGaycgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkR3M9JyApCiAgaWYgNTYgLSA1Njogb29Pb29PME9PTyAlIElpSUkxSWlJIC4gSUkgLyBPT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWVhKamFHbDJaUzV2Y21jPScgKSBpbiB1cmwgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdZWEk9JyApCiAgaWYgMjYgLSAyNjogb29Pb29PME9PTyAuIElJSUkgJSBpSWkxMQogZWxzZSA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RXcz0nICkKICBpZiAzNyAtIDM3OiBpSWkxMSAqIG9PTyAtIG9vT29vTzBPT08gLSBpaUlJaTFpMUlpaQpkZWYgSTFpMSAoIHVybHMgLCBkZWNvZGUgPSBUcnVlICkgOgogb29PMDAwb09vMDAgPSB1cmxzIC4gc3BsaXQgKCAnICcgKSBbIDAgXQogaWYgZGVjb2RlIDoKICBvb08wMDBvT28wMCA9IG9vMG8gKCBvb08wMDBvT28wMCApCiAgaWYgMjMgLSAyMzogSUkgLyBvT08gLyBJaUlJMUlpSSAtIElpSUkxaTFJIC0gb28gJSBvbwogaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWkdsemEyOXJiM050YVd0dicgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHbHphMjlyYjNOdGFXdHYnICkKICBpZiA5NCAtIDk0OiBJSW9vb08wb29PMG9vICUgbzAwb08wb28wTzBPMCAqIGlpMUkxaWkxSWlJaTEgLiBvb29Pb08gLyBpSWkxMSAqIE9Pb09vTzBvMG8wT08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0E9JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnWTI5d2FXRndiM0E9JyApCiAgaWYgNjEgLSA2MTogbzAwb08wb28wTzBPMCAqIGlJaTExICsgb28gLyBvb29Pb08KIGVsaWYgYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzNSeVpXRnRZMnh2ZFdRPScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUnlaV0Z0WTJ4dmRXUT0nICkKICBpZiAzOSAtIDM5OiBpMWlJMSAlIG9PTyAuIG8wMG9PMG9vME8wTzAgLSBvbyAqIElpSUkxaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHRnlkR0ZuYjNKaCcgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NHRnlkR0ZuYjNKaCcgKQogIGlmIDI3IC0gMjc6IElpCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2F5MWlZV2RwJyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYXkxaVlXZHAnICkKICBpZiA5NCAtIDk0OiBvb09vb08wT09PIC0gb29vT29PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2NuUjJaUT09JyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnY25SMlpRPScgKQogIGlmIDcwIC0gNzA6IGlJaTExIC4gaWlJSWkxaTFJaWkgKiBJaUlJMWkxSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdlVzkxZEhWaVpRPScgKQogIGlmIDY0IC0gNjQ6IElJb29vTzBvb08wb28gJSBJSQogZWxpZiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaMnh2Y21saExuUjInICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaMnh2Y21saExuUjInICkKICBpZiA4NiAtIDg2OiBpSWkxMSAvIElJICogSWkgKiBJSSArIG9vb09vTyAtIElpSUkxaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MzUnlaV0Z0WVc1bmJ3PT0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjM1J5WldGdFlXNW5idz09JyApCiAgaWYgOTUgLSA5NTogSUkgKyBvbyAvIElJSUkgKyBJaTFJCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RtbGtiM3BoJyApIGluIG9vTzAwMG9PbzAwIDoKICByZXR1cm4gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZG1sa2IzcGgnICkKICBpZiA4NSAtIDg1OiBvb09vb08wT09PIC4gSUkgKiBJSW9vb08wb29PMG9vICUgSUkgJSBJaSAtIG9vCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1pHRnBiSGx0YjNScGIyND0nICkgaW4gb29PMDAwb09vMDAgOgogIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdaR0ZwYkhsdGIzUnBiMjQ9JyApCiAgaWYgMTAwIC0gMTAwOiBJSSAqIE9Pb09vTzBvMG8wT08gKyBPT08gKiBpaTFJMWlpMUlpSWkxICogT09PCiBlbGlmIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1lYSmphR2wyWlE9PScgKSBpbiBvb08wMDBvT28wMCA6CiAgcmV0dXJuIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1lYSmphR2wyWlE9PScgKQogIGlmIDg0IC0gODQ6IGlJaTExICsgb09PIC4gSWlJSTFpMUkgJSBvb09vb08wT09PICUgSWlJSTFJaUkgKiBpaUlJaTFpMUlpaQogZWxzZSA6CiAgaWkxID0gb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApCiAgaWYgbGVuICggaWkxICkgPiAyIDoKICAgaWkxID0gb29PMDAwb09vMDAgLiBzcGxpdCAoICcvJyApIFsgMiBdIC4gc3BsaXQgKCAnLicgKQogICBpZiA0NyAtIDQ3OiBJaTFJIC0gbzAwb08wb28wTzBPMCAtIElJCiAgIGlmIGlpMSBbIDAgXSA9PSBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdkM2QzJyApIDoKICAgIHJldHVybiBpaTEgWyAxIF0KICAgZWxzZSA6CiAgICBpZiAyMSAtIDIxOiBpSWkxMSArIG8wMG9PMG9vME8wTzAgLSBpMWlJMSAtIElpSUkxSWlJCiAgICByZXR1cm4gaWkxIFsgMCBdCiAgZWxzZSA6CiAgIGlmIDQ4IC0gNDg6IElpSUkxaTFJIC4gSUkKICAgcmV0dXJuIG9vTzAwMG9PbzAwCiAgIGlmIDg2IC0gODY6IE9PTyAvIElpSUkxSWlJICogSWlJSTFJaUkgKiBvMDBvTzBvbzBPME8wCmRlZiBPbzAwT29vTyAoIHNlcnZlciAsIGxpbmsgKSA6CiBpaSA9IGxpbmsgLiBzcGxpdCAoICcvJyApCiBvT2lpaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDMgOiA0IF0gKQogaUlJaWlJSUlJaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDQgOiA1IF0gKQogbGluayA9IGlpIFsgNSBdIC4gc3BsaXQgKCAnLCcgKSBbIDEgXQogT09vT28wT08gPSBsaW5rCiBvT29Pb09vID0gJyVzLy0lcy9wLCVzLGxpc3QsMSwzLmF2aScgJSAoIG9PaWlpICwgaUlJaWlJSUlJaSAsIGxpbmsgKQogb29PMDAwb09vMDAgPSAnJXMvJXMvJyAlICggc2VydmVyICwgb09paWkgKQogaUlpaUlpMWkxaTFpMSA9IHsgJ1VzZXItYWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjE5LjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvMTkuMCcgfQogaWlJaTFJMWlpID0gJyVzLyVzJyAlICggc2VydmVyICwgb09vT29PbyApCiBpSWlpSWkxaTFpMWkxIFsgJ3JlZmVyZXInIF0gPSBvb08wMDBvT28wMAogaUlpaUlpMWkxaTFpMSBbICdjb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBJaTExID0gdXJsbGliMiAuIFJlcXVlc3QgKCBpaUlpMUkxaWkgLCBOb25lICwgaUlpaUlpMWkxaTFpMSApCiBJMTFJaWkxMWkxSWkxID0gdXJsbGliMiAuIHVybG9wZW4gKCBJaTExICkKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIEkxMUlpaTExaTFJaTEgLiBjbG9zZSAoICkKIElpMWlJaTEgPSByZSAuIGZpbmRhbGwgKCAnRG93bmxvYWRGaWxlLipmPSVzIi4qUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuLio/dmFsdWU9IihbXiJdKyknICUgbGluayAsIGlpSUkgKQogaTExID0gMAogdHJ5IDoKICBJaTFpSWkxID0gSWkxaUlpMSBbIDAgXQogZXhjZXB0IDoKICBpMTEgPSAxCiAgaWYgOTQgLSA5NDogSWlJSTFJaUkgJSBJMUlpSTFJSUkxMWkgKiBvbwogaWYgaTExID09IDAgOgogIGlJSSA9ICclcy9hY3Rpb24vRG93bmxvYWRGaWxlP2xvY2F0aW9uPWZpJmFtcDtmPSVzJyAlICggc2VydmVyICwgT09vT28wT08gKQogIG9PTzBvb29vID0gJ2ZpbGVJZD0lcyZfX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbj0lcycgJSAoIE9Pb09vME9PICwgSWkxaUlpMSApCiAgaUlpaUlpMWkxaTFpMSBbICdyZWZlcmVyJyBdID0gaWlJaTFJMWlpCiAgaUlpaUlpMWkxaTFpMSBbICdjb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiAgSWkxMSA9IHVybGxpYjIgLiBSZXF1ZXN0ICggaUlJICwgb09PMG9vb28gLCBpSWlpSWkxaTFpMWkxICkKICBJMTFJaWkxMWkxSWkxID0gdXJsbGliMiAuIHVybG9wZW4gKCBJaTExICkKICBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiAgSTExSWlpMTFpMUlpMSAuIGNsb3NlICggKQogIGxpbmsgPSByZSAuIGZpbmRhbGwgKCAnRG93bmxvYWRVcmwiOiIoW14iXSspJyAsIGlpSUkgKQogIGlJID0gbGluayBbIDAgXQogZWxzZSA6CiAgaUkgPSAnJwogcmV0dXJuIGlJIC4gc3RyaXAgKCApCiBpZiA3IC0gNzogSTFJaUkxSUlJMTFpIC8gSTFJaUkxSUlJMTFpCiBpZiA4MiAtIDgyOiBJaUlJMUlpSSAuIElJIC4gb29Pb29PME9PTyAtIElpMUkKIGlmIDI3IC0gMjc6IE9PTyAvIGlpMUkxaWkxSWlJaTEgKyBJSW9vb08wb29PMG9vIC0gb29Pb29PME9PTyAlIG9PTwpkZWYgb09PT09vICggc3RyaW5nICkgOgogT09PME8wME8wID0gJzdTZTEwZ0FJZS1UMF9hJwogSUkxMTExSTEgPSBbIF0KIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBzdHJpbmcgKSApIDoKICBJMWlJMWlpaUlpSTEgPSBPT08wTzAwTzAgWyBPMDBPb28wbzBPTyAlIGxlbiAoIE9PTzBPMDBPMCApIF0KICBPTzBPMCA9IGNociAoIG9yZCAoIHN0cmluZyBbIE8wME9vbzBvME9PIF0gKSArIG9yZCAoIEkxaUkxaWlpSWlJMSApICUgMjU2ICkKICBJSTExMTFJMSAuIGFwcGVuZCAoIE9PME8wICkKIGlpMWkxaWkxSSA9ICcnIC4gam9pbiAoIElJMTExMUkxICkKIHJldHVybiBiYXNlNjQgLiB1cmxzYWZlX2I2NGVuY29kZSAoIGlpMWkxaWkxSSApCiBpZiA2OCAtIDY4OiBvb29Pb08KIGlmIDc3IC0gNzc6IE9Pb09vTzBvMG8wT08gKiBpaTFJMWlpMUlpSWkxCmRlZiBvbzBvMDBvb08gKCBiYXNlICwgc2VydmVyICkgOgogaWYgc2VydmVyID09ICdrYmFnaScgOgogIHNlcnZlciA9ICdrLWJhZ2kuY29tJwogaW1wb3J0IHRpbWUKIGZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50CiBvTzBvT29PT28wT08gPSBzdHIgKCBpbnQgKCB0aW1lIC4gdGltZSAoICkgKiAxMDAwICkgKQogTzBvID0gJ2h0dHA6Ly8lcy9hY3Rpb24vQWNjb3VudC9Mb2dpbj9yZXR1cm5Vcmw9JXMmJXMnICUgKCBzZXJ2ZXIgLCAnJTJGJyAsIG9PMG9Pb09PbzBPTyApCiBvT08wb29vbyA9IE5vbmUKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggTzBvICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIGlmIDE3IC0gMTc6IElpICUgaWkxSTFpaTFJaUlpMSAqIEkxICUgSWkgKiBvMDBvTzBvbzBPME8wICsgaWlJSWkxaTFJaWkKIGlmIDQ5IC0gNDk6IG9PTyArIG8wMG9PMG9vME8wTzAgLSBJMUlpSTFJSUkxMWkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogSTExSTFJaWlJMUlJaSA9IEkxMUlpaTExaTFJaTEgLiBpbmZvICggKSBbICdTZXQtQ29va2llJyBdCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBPME9vMG9PTyA9IHJlIC4gc2VhcmNoICggJyIuKj9fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbi4qP3ZhbHVlPSIoLio/KSInICwgaWlJSSApCiBJaTFpSWkxID0gTzBPbzBvT08gLiBncm91cCAoIDEgKQogaUlJID0gJ2h0dHA6Ly8lcy9hY3Rpb24vQWNjb3VudC9Mb2dpbicgJSBzZXJ2ZXIKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnQWNjZXB0JyBdID0gJyovKicKIG9PT08wME9vT28gWyAnQWNjZXB0LUxhbmd1YWdlJyBdID0gJ2VzLUVTLGVzO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zJwogb09PTzAwT29PbyBbICdBY2NlcHQtRW5jb2RpbmcnIF0gPSAnZ3ppcCwgZGVmbGF0ZScKIG9PT08wME9vT28gWyAnQ29udGVudC1UeXBlJyBdID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCcKIG9PT08wME9vT28gWyAnWC1SZXF1ZXN0ZWQtV2l0aCcgXSA9ICdYTUxIdHRwUmVxdWVzdCcKIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PT29PTyA9IGlJSTFpSUlpSWkxMUkgKCBiYXNlICwgc2VydmVyICkKIGlmIDQwIC0gNDA6IElJSUkgKyBvbyAtIG9vb09vTyAuIE9PTyAuIE9PTyAuIE9Pb09vTzBvMG8wT08KIG9PTzBvb29vID0gJ19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuPSVzJlVzZXJOYW1lPSVzJlBhc3N3b3JkPSVzJyAlICggSWkxaUlpMSAsIG9PT29PTyBbIDAgXSAuIGVuY29kZSAoICd1dGYtOCcgKSAsIG9PT29PTyBbIDEgXSAuIGVuY29kZSAoICd1dGYtOCcgKSApCiBpZiA1OCAtIDU4OiBJaUlJMUlpSSAqIE9Pb09vTzBvMG8wT08KIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIGlJSSAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIGlmIDU4IC0gNTg6IElJICUgSTFJaUkxSUlJMTFpICogT09vT29PMG8wbzBPTyAqIG9vb09vTyAuIGlJaTExCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBpZiA2MiAtIDYyOiBJaSAtIElJIC0gaTFpSTEKIHJldHVybiAnVHlwZSI6IlJlZGlyZWN0JyBpbiBpaUlJIC4gcmVwbGFjZSAoICcgJyAsICcnICkKIGlmIDQxIC0gNDE6IEkxSWlJMUlJSTExaSArIG9vb09vTyAuIG8wMG9PMG9vME8wTzAgJSBpSWkxMQpkZWYgT08gKCBzZXJ2ZXIgLCBsaW5rICwgYmFzZSApIDoKIE8wbyA9IGxpbmsKIG9PTzBvb29vID0gTm9uZQogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBPMG8gLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBvb09PT29PMCA9IEkxMUlpaTExaTFJaTEgLiB1cmwKIHJldHVybiBvb09PT29PMAogaWYgNzAgLSA3MDogSWlJSTFpMUkgLiBJSSArIE9PTwpkZWYgaTFpSUlJaWkxICggc2VydmVyICwgbGluayAsIGJhc2UgKSA6CiBpaSA9IGxpbmsgLiBzcGxpdCAoICcvJyApCiBvT2lpaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDMgOiA0IF0gKQogaUlJaWlJSUlJaSA9ICcvJyAuIGpvaW4gKCBpaSBbIDQgOiA1IF0gKQogbGluayA9IGlpIFsgNSBdIC4gc3BsaXQgKCAnLCcgKSBbIDEgXQogTzBvID0gJ2h0dHA6Ly8lcy8lcy8lcy9wLCVzLGxpc3QsMSwyLmF2aScgJSAoIHNlcnZlciAsIG9PaWlpICwgaUlJaWlJSUlJaSAsIGxpbmsgKQogb09PMG9vb28gPSBOb25lCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIE8wbyAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIEkxMUkxSWlpSTFJSWkgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogTzBPbzBvT08gPSByZSAuIHNlYXJjaCAoICdhY3Rpb249IihcXC9hY3Rpb25cXC9Eb3dubG9hZEZpbGVcXD9sb2NhdGlvbj1maSZhbXA7Zj0uKj8pIi4qP19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuLio/dmFsdWU9IiguKj8pIicgLCBpaUlJICkKIGlJMSA9ICdodHRwOi8vJXMlcycgJSAoIHNlcnZlciAsIE8wT28wb09PIC4gZ3JvdXAgKCAxICkgLiByZXBsYWNlICggJyZhbXA7JyAsICcmJyApICkKIElpMWlJaTEgPSBPME9vMG9PTyAuIGdyb3VwICggMiApCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ1JlZmVyZXInIF0gPSBPMG8KIG9PT08wME9vT28gWyAnQ29va2llJyBdID0gSTExSTFJaWlJMUlJaQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBvT08wb29vbyA9ICdmaWxlSWQ9JXMmX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMnICUgKCBsaW5rICwgSWkxaUlpMSApCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBpZiA2OSAtIDY5OiBJMSArIElJb29vTzBvb08wb28gKiBPT29Pb08wbzBvME9PICsgb09PIC4gaWlJSWkxaTFJaWkgJSBJaUlJMUlpSQogSWkxMSA9IG9vME8wICggaUkxICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogaW1wb3J0IHRpbWUKIG9PMG9Pb09PbzBPTyA9IHN0ciAoIGludCAoIHRpbWUgLiB0aW1lICggKSApICkgKyAnNDA0JwogaWlJaTFJMWlpID0gJ2h0dHA6Ly8lcy9hY3Rpb24vT0F1dGgvRmFjZWJvb2s/VGltZVN0YW1wPSVzJyAlICggc2VydmVyICwgb08wb09vT09vME9PICkKIG9PT08wME9vT28gPSB7ICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjE7IFdPVzY0OyBydjo1MC4wKSBHZWNrby8yMDEwMDEwMSBGaXJlZm94LzUwLjAnIH0KIG9PT08wME9vT28gWyAnUmVmZXJlcicgXSA9IE8wbwogb09PTzAwT29PbyBbICdDb29raWUnIF0gPSBJMTFJMUlpaUkxSUlpCiBvT09PMDBPb09vIFsgJ0Nvbm5lY3Rpb24nIF0gPSAna2VlcC1hbGl2ZScKIG9PTzBvb29vID0gTm9uZQogSWlpMTFJaUkxMWkgPSB1cmxsaWIyIC4gdXJsb3Blbgogb28wTzAgPSB1cmxsaWIyIC4gUmVxdWVzdAogSWkxMSA9IG9vME8wICggaWlJaTFJMWlpICwgb09PMG9vb28gLCBvT09PMDBPb09vICkKIEkxMUlpaTExaTFJaTEgPSBJaWkxMUlpSTExaSAoIElpMTEgKQogaUlJaTEgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogaWlJSSA9IEkxMUlpaTExaTFJaTEgLiByZWFkICggKQogbzAwT08wMCA9IEkxMUkxSWlpSTFJSWkgLiBzcGxpdCAoICc7JyApCiBPME9PMDBvTzAwT28gPSBpSUlpMSAuIHNwbGl0ICggJzsnICkKIGZvciBPTzAwIGluIE8wT08wMG9PMDBPbyA6CiAgaWYgT08wMCBub3QgaW4gbzAwT08wMCA6CiAgIG8wME9PMDAgLiBhcHBlbmQgKCBPTzAwICkKICAgaWYgMjMgLSAyMzogSWkxSSAtIGlpSUlpMWkxSWlpCiBPME9PMDBvTzAwT28gPSBbIF0KIGZvciBPTzAwIGluIG8wME9PMDAgOgogIGlmICdwYXRoPS8nIG5vdCBpbiBPTzAwIGFuZCAnSHR0cE9ubHknIG5vdCBpbiBPTzAwIDoKICAgTzBPTzAwb08wME9vIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDcwIC0gNzA6IElpICsgaWlJSWkxaTFJaWkgLSBvb29Pb08gKyBpMWlJMQogSTExSTFJaWlJMUlJaSA9ICc7ICcgLiBqb2luICggTzBPTzAwb08wME9vICkgLiByZXBsYWNlICggJyAgJyAsICcgJyApCiBpSUkgPSAnaHR0cDovLyVzL2FjdGlvbi9BY2NvdW50L0xvZ2luJyAlIHNlcnZlcgogb09PTzAwT29PbyA9IHsgJ1VzZXItQWdlbnQnIDogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IHJ2OjUwLjApIEdlY2tvLzIwMTAwMTAxIEZpcmVmb3gvNTAuMCcgfQogb09PTzAwT29PbyBbICdBY2NlcHQnIF0gPSAnKi8qJwogb09PTzAwT29PbyBbICdBY2NlcHQtTGFuZ3VhZ2UnIF0gPSAnZXMtRVMsZXM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMnCiBvT09PMDBPb09vIFsgJ0FjY2VwdC1FbmNvZGluZycgXSA9ICdnemlwLCBkZWZsYXRlJwogb09PTzAwT29PbyBbICdDb250ZW50LVR5cGUnIF0gPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04Jwogb09PTzAwT29PbyBbICdYLVJlcXVlc3RlZC1XaXRoJyBdID0gJ1hNTEh0dHBSZXF1ZXN0Jwogb09PTzAwT29PbyBbICdSZWZlcmVyJyBdID0gTzBvCiBvT09PMDBPb09vIFsgJ0Nvb2tpZScgXSA9IEkxMUkxSWlpSTFJSWkKIG9PT08wME9vT28gWyAnQ29ubmVjdGlvbicgXSA9ICdrZWVwLWFsaXZlJwogb09Pb09PID0gaUlJMWlJSWlJaTExSSAoIGJhc2UgLCBzZXJ2ZXIgKQogb09PMG9vb28gPSAnX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMmVXNlck5hbWU9JXMmUGFzc3dvcmQ9JXMnICUgKCBJaTFpSWkxICwgb09Pb09PIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApICwgb09Pb09PIFsgMSBdIC4gZW5jb2RlICggJ3V0Zi04JyApICkKIElpaTExSWlJMTFpID0gdXJsbGliMiAuIHVybG9wZW4KIG9vME8wID0gdXJsbGliMiAuIFJlcXVlc3QKIElpMTEgPSBvbzBPMCAoIGlJSSAsIG9PTzBvb29vICwgb09PTzAwT29PbyApCiBJMTFJaWkxMWkxSWkxID0gSWlpMTFJaUkxMWkgKCBJaTExICkKIHRyeSA6CiAgaUlJaTEgPSBJMTFJaWkxMWkxSWkxIC4gaW5mbyAoICkgWyAnU2V0LUNvb2tpZScgXQogZXhjZXB0IDoKICByZXR1cm4gb09Pb09PIFsgMCBdIC4gZW5jb2RlICggJ3V0Zi04JyApICsgJyMjTm9Mb2dpbicKIGlpSUkgPSBJMTFJaWkxMWkxSWkxIC4gcmVhZCAoICkKIG8wME9PMDAgPSBJMTFJMUlpaUkxSUlpIC4gc3BsaXQgKCAnOycgKQogTzBPTzAwb08wME9vID0gaUlJaTEgLiBzcGxpdCAoICc7JyApCiBmb3IgT08wMCBpbiBPME9PMDBvTzAwT28gOgogIGlmIE9PMDAgbm90IGluIG8wME9PMDAgOgogICBvMDBPTzAwIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDIxIC0gMjE6IEkxSWlJMUlJSTExaSAtIG9vT29vTzBPT08gJSBPT08gJSBvbyAuIG8wMG9PMG9vME8wTzAgKyBJSUlJCiBPME9PMDBvTzAwT28gPSBbIF0KIGZvciBPTzAwIGluIG8wME9PMDAgOgogIGlmICdwYXRoPS8nIG5vdCBpbiBPTzAwIGFuZCAnSHR0cE9ubHknIG5vdCBpbiBPTzAwIDoKICAgTzBPTzAwb08wME9vIC4gYXBwZW5kICggT08wMCApCiAgIGlmIDE3IC0gMTc6IGkxaUkxICogSWlJSTFpMUkgLiBpSWkxMSAtIE9PTyAqIEkxSWlJMUlJSTExaQogSTExSTFJaWlJMUlJaSA9ICc7ICcgLiBqb2luICggTzBPTzAwb08wME9vICkgLiByZXBsYWNlICggJyAgJyAsICcgJyApCiBpSUlpMSA9ICcnCiBvT09PMDBPb09vID0geyAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXT1c2NDsgcnY6NTAuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC81MC4wJyB9CiBvT09PMDBPb09vIFsgJ1JlZmVyZXInIF0gPSBPMG8KIG9PT08wME9vT28gWyAnQ29va2llJyBdID0gSTExSTFJaWlJMUlJaQogb09PTzAwT29PbyBbICdDb25uZWN0aW9uJyBdID0gJ2tlZXAtYWxpdmUnCiBvT08wb29vbyA9ICdmaWxlSWQ9JXMmX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49JXMnICUgKCBsaW5rICwgSWkxaUlpMSApCiBJaWkxMUlpSTExaSA9IHVybGxpYjIgLiB1cmxvcGVuCiBvbzBPMCA9IHVybGxpYjIgLiBSZXF1ZXN0CiBJaTExID0gb28wTzAgKCBpSTEgLCBvT08wb29vbyAsIG9PT08wME9vT28gKQogSTExSWlpMTFpMUlpMSA9IElpaTExSWlJMTFpICggSWkxMSApCiBpaUlJID0gSTExSWlpMTFpMUlpMSAuIHJlYWQgKCApCiBPME9vMG9PTyA9IHJlIC4gc2VhcmNoICggJ0Rvd25sb2FkVXJsIjoiKC4qPykiJyAsIGlpSUkgKQogcmV0dXJuIE8wT28wb09PIC4gZ3JvdXAgKCAxICkKIGlmIDYyIC0gNjI6IEkxCiBkZWYgT28wICggaXRlbSApIDoKICBpZiAicXVhbGl0eSIgaW4gaXRlbSBbIDEgXSBbIDAgXSA6CiAgIGlmIDYyIC0gNjI6IElpSUkxaTFJICUgSTFJaUkxSUlJMTFpIC0gaTFpSTEgLyBpMWlJMSAuIGlpSUlpMWkxSWlpCiAgIGlmIDgwIC0gODA6IE9Pb09vTzBvMG8wT08gLyBJSUlJICogaUlpMTEgJSBvb29Pb08gLiBvMDBvTzBvbzBPME8wCiAgIGlmIDYwIC0gNjA6IElJb29vTzBvb08wb28gKiBvb29Pb08gLiBJaSAlIElJSUkKICAgaWYgNzQgLSA3NDogaWlJSWkxaTFJaWkKICAgaWYgNzQgLSA3NDogaTFpSTEgLSBJaTFJIC0gaTFpSTEgKiBPT29Pb08wbzBvME9PICUgSWkxSQogICBpZiA3MyAtIDczOiBJaQogICBpZiA0MiAtIDQyOiBpSWkxMQogICBJaUlpaWkxMTExSTExID0gaXRlbSBbIDEgXSBbIDAgXSBbICJxdWFsaXR5IiBdCiAgZWxzZSA6CiAgIElpSWlpaTExMTFJMTEgPSBpdGVtIFsgMSBdIFsgMCBdIFsgInBhdGgiIF0gWyAicXVhbGl0eSIgXQogICBpZiAxOCAtIDE4OiBvbyAvIG9vT29vTzBPT08KICBpZiAicGF0aCIgaW4gaXRlbSBbIDEgXSBbIDAgXSA6CiAgIGlmICJkZWJyaWRvbmx5IiBpbiBpdGVtIFsgMSBdIFsgMCBdIFsgInBhdGgiIF0gOgogICAgb29JSWkxMWlJSWlpSWkgPSAiQSIKICBlbGlmICJkZWJyaWRvbmx5IiBpbiBpdGVtIFsgMSBdIFsgMCBdIDoKICAgb29JSWkxMWlJSWlpSWkgPSAiQSIKICBlbHNlIDoKICAgb29JSWkxMWlJSWlpSWkgPSAiQiIKICAgaWYgODAgLSA4MDogSWkgLSBJaTFJICUgSTFJaUkxSUlJMTFpIC8gb28gKiBJMUlpSTFJSUkxMWkgKyBvMDBvTzBvbzBPME8wCiAgaWYgb29JSWkxMWlJSWlpSWkgPT0gIkEiIDoKICAgaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNEsiICkgOgogICAgSWlJaWlpMTExMUkxMSA9ICJBYSIKICAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICIxMDgwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWIiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNzIwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWMiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNTYwIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQWQiCiAgIGVsaWYgSWlJaWlpMTExMUkxMSA9PSAiRFZEIiA6CiAgICBJaUlpaWkxMTExSTExID0gIkFlIgogICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkhEIiA6CiAgICBJaUlpaWkxMTExSTExID0gIkFmIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjQ4MCIgKSA6CiAgICBJaUlpaWkxMTExSTExID0gIkJhIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIjM2MCIgKSA6CiAgICBJaUlpaWkxMTExSTExID0gIkJiIgogICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIlNEIiApIDoKICAgIElpSWlpaTExMTFJMTEgPSAiQmMiCiAgIGVsc2UgOgogICAgSWlJaWlpMTExMUkxMSA9ICJDWiIKICAgIGlmIDM1IC0gMzU6IGlpMUkxaWkxSWlJaTEgJSBJSUlJCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI0SyIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERhIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiMTA4MCIgKSA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERiIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNzIwIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJIRGMiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICI1NjAiICkgOgogICBJaUlpaWkxMTExSTExID0gIkhEZCIKICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkRWRCIgOgogICBJaUlpaWkxMTExSTExID0gIkhEZSIKICBlbGlmIElpSWlpaTExMTFJMTEgPT0gIkhEIiA6CiAgIElpSWlpaTExMTFJMTEgPSAiSERmIgogIGVsaWYgSWlJaWlpMTExMUkxMSAuIHN0YXJ0c3dpdGggKCAiNDgwIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJTRGEiCiAgZWxpZiBJaUlpaWkxMTExSTExIC4gc3RhcnRzd2l0aCAoICIzNjAiICkgOgogICBJaUlpaWkxMTExSTExID0gIlNEYiIKICBlbGlmIElpSWlpaTExMTFJMTEgLiBzdGFydHN3aXRoICggIlNEIiApIDoKICAgSWlJaWlpMTExMUkxMSA9ICJTRGMiCiAgZWxzZSA6CiAgIElpSWlpaTExMTFJMTEgPSAiWiIKICByZXR1cm4gSWlJaWlpMTExMUkxMQogIGlmIDkwIC0gOTA6IElpMUkgKyBvb29Pb08gLyBvMDBvTzBvbzBPME8wCiBAIHN0YXRpY21ldGhvZAogZGVmIGlpaWkgKCBxdWFsaXR5X3N0cmluZyApIDoKICB0cnkgOgogICBJaUlpaWkxMTExSTExID0gaW50ICggcXVhbGl0eV9zdHJpbmcgKQogICBpZiBJaUlpaWkxMTExSTExID4gNTc2IDoKICAgIHJldHVybiAiSEQiCiAgIGVsc2UgOgogICAgcmV0dXJuICJTRCIKICBleGNlcHQgVmFsdWVFcnJvciA6CiAgIGlmIHF1YWxpdHlfc3RyaW5nIG5vdCBpbiBbICJTRCIgLCAiQ0FNIiAsICJTQ1IiIF0gOgogICAgcmV0dXJuICJIRCIKICAgZWxzZSA6CiAgICByZXR1cm4gIlNEIgogICAgaWYgMzYgLSAzNjogb29vT29PCiBAIHN0YXRpY21ldGhvZAogZGVmIE9PT28wMG9vbzBPbyAoIHNjcmFwZXJfbGluayApIDoKICBpZiAoCiBub3QgQURET04gLiBnZXRTZXR0aW5nICggImFsbG93X29wZW5sb2FkIiApID09ICJ0cnVlIgogYW5kICJvcGVubG9hZCIgaW4gc2NyYXBlcl9saW5rIFsgInVybCIgXQogKSA6CiAgIHJldHVybiBUcnVlCiAgaWYgKAogbm90IEFERE9OIC4gZ2V0U2V0dGluZyAoICJhbGxvd190aGVfdmlkZW9fbWUiICkgPT0gInRydWUiCiBhbmQgInRoZXZpZGVvLm1lIiBpbiBzY3JhcGVyX2xpbmsgWyAidXJsIiBdCiApIDoKICAgcmV0dXJuIFRydWUKICBpZiAoCiBub3QgQURET04gLiBnZXRTZXR0aW5nICggImFsbG93X3RoZV92aWR1cF9tZSIgKSA9PSAidHJ1ZSIKIGFuZCAidmlkdXAubWUiIGluIHNjcmFwZXJfbGluayBbICJ1cmwiIF0KICkgOgogICByZXR1cm4gVHJ1ZQogIHJldHVybiBGYWxzZQogIGlmIDk4IC0gOTg6IElJSUkKICBpZiA1OCAtIDU4OiBvT08KZGVmIGkxMUkgKCBsaW5rICwgbmFtZSA9IE5vbmUgLCBzZWxlY3RlZF9saW5rID0gTm9uZSApIDoKIGltcG9ydCByZQogaWYgMiAtIDI6IEkxICsgSUkgLSBJaQogaWYgNTcgLSA1Nzogb29vT29PCiBpZiAzMCAtIDMwOiBpMWlJMSArIG9vb09vTyAqIElpSUkxaTFJIC8gb09PICUgSTFJaUkxSUlJMTFpCiBpZiA3IC0gNzogSUlJSQogaWYgOTAgLSA5MDogSTEgLSBJaUlJMUlpSSAuIGlJaTExICsgSWlJSTFpMUkgKiBpaTFJMWlpMUlpSWkxIC4gSWlJSTFpMUkKIGlmIDYzIC0gNjM6IE9PTyAvIG9vIC0gaTFpSTEgLSBJSUlJIC0gb29Pb29PME9PTwogaWYgMjIgLSAyMjogSUlJSSAvIG9PTyArIElpMUkgKyBvT08gLyBJSUlJIC0gSTFJaUkxSUlJMTFpCiBpZiAzMSAtIDMxOiBPT08KIGlmIG5hbWUgaXMgTm9uZSA6CiAgbmFtZSA9IHhibWMgLiBnZXRJbmZvTGFiZWwgKCAibGlzdGl0ZW0ubGFiZWwiICkKIGlmIGxpbmsgLiBzdGFydHN3aXRoICggImh0dHAiICkgb3IgbGluayAuIHN0YXJ0c3dpdGggKCAicGx1Z2luIiApIDoKICBpaUlJSWlJaTExMWkgPSBbIGxpbmsgXQogZWxzZSA6CiAgSWlJaUlJMUkxSWkgPSBKZW5JdGVtICggbGluayApCiAgaWlJSUlpSWkxMTFpID0gSWlJaUlJMUkxSWkgLiBnZXRBbGwgKCAic3VibGluayIgKQogIGlmIG5vdCBpaUlJSWlJaTExMWkgOgogICBpaUlJSWlJaTExMWkgPSBbIElpSWlJSTFJMUlpIF0KIElJMUlJaUlJSUlpMWkgPSBbIF0KIG9vT28wMCA9IGdldF9saW5rX21lc3NhZ2UgKCApCiBpZiBzZWxlY3RlZF9saW5rIGlzIE5vbmUgOgogIE9vMG9Pb09PTzAwbyA9IEFERE9OIC4gZ2V0U2V0dGluZyAoICJkZWZhdWx0X2xpbmsiICkKIGVsc2UgOgogIE9vMG9Pb09PTzAwbyA9IHNlbGVjdGVkX2xpbmsKIG9vb28wbyA9IEFERE9OIC4gZ2V0U2V0dGluZyAoICJ1c2VfbGlua19kaWFsb2ciICkgPT0gInRydWUiCiBPT28gPSBGYWxzZQogZm9yIG9vTzBPMG8wb09PTyBpbiBpaUlJSWlJaTExMWkgOgogIGlmIG9vb28wbyBhbmQgInNlYXJjaCIgaW4gb29PME8wbzBvT09PIDoKICAgY29udGludWUKICBpZiAic2VhcmNoc2QiIGluIG9vTzBPMG8wb09PTyA6CiAgIGlmIE9vMG9Pb09PTzAwbyA9PSAiU0QiIDoKICAgIHJldHVybiBvb08wTzBvMG9PT08KICAgbzAwMDBPID0gIlNEIgogICBpZiBvb09vMDAgWyAiU0QiIF0gIT0gIiIgOgogICAgbzAwMDBPICs9ICIgKCVzKSIgJSBvb09vMDAgWyAiU0QiIF0KICAgb09PME8wID0gKCBvMDAwME8gLCBvb08wTzBvMG9PT08gKQogIGVsaWYgInNlYXJjaCIgaW4gb29PME8wbzBvT09PIDoKICAgaWYgT28wb09vT09PMDBvID09ICJIRCIgOgogICAgcmV0dXJuIG9vTzBPMG8wb09PTwogICBvMDAwME8gPSAiSEQiCiAgIGlmIG9vT28wMCBbICJIRCIgXSAhPSAiIiA6CiAgICBvMDAwME8gKz0gIiAoJXMpIiAlIG9vT28wMCBbICJIRCIgXQogICBvT08wTzAgPSAoIG8wMDAwTyAsIG9vTzBPMG8wb09PTyApCiAgZWxzZSA6CiAgIE9PbyA9IFRydWUKICAgb08wb29vT08wME9PbyA9IHJlIC4gZmluZGFsbCAoICIoLio/KVwoKC4qPylcKSIgLCBvb08wTzBvMG9PT08gKQogICBpZiBvTzBvb29PTzAwT09vIDoKICAgIG9PTzBPMCA9ICggIiVzIiAlIG9PMG9vb09PMDBPT28gWyAwIF0gWyAxIF0gLCBvTzBvb29PTzAwT09vIFsgMCBdIFsgMCBdICkKICAgZWxzZSA6CiAgICBvT08wTzAgPSAoICJMaW5rICVzIiAlICggaW50ICggaWlJSUlpSWkxMTFpIC4gaW5kZXggKCBvb08wTzBvMG9PT08gKSApICsgMSApICwgb29PME8wbzBvT09PICkKICBJSTFJSWlJSUlJaTFpIC4gYXBwZW5kICggb09PME8wICkKIGlmIG9vb28wbyBhbmQgKCBub3QgT09vIG9yIGxlbiAoIGlpSUlJaUlpMTExaSApID4gMSApIDoKICBJSTFJSWlJSUlJaTFpIC4gYXBwZW5kICggKCAiU2VhcmNoIiAsICJzZWFyY2giICkgKQogIGlmIDc3IC0gNzc6IGlpSUlpMWkxSWlpIC4gaWkxSTFpaTFJaUlpMSAvIEkxSWlJMUlJSTExaSAqIG9vb09vTwogaWYgbGVuICggSUkxSUlpSUlJSWkxaSApID09IDEgOgogIG9vTzAwMG9PbzAwID0gSUkxSUlpSUlJSWkxaSBbIDAgXSBbIDEgXQogIHJldHVybiBvb08wMDBvT28wMAogIGlmIDIzIC0gMjM6IElpSUkxSWlJICsgSUkgJSBpaTFJMWlpMUlpSWkxICUgSTEgLiBvMDBvTzBvbzBPME8wCiBpMUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIHNlbGVjdCAoIG5hbWUgLCBbIE8wME9vbzBvME9PIFsgMCBdIGZvciBPMDBPb28wbzBPTyBpbiBJSTFJSWlJSUlJaTFpIF0gKQogaWYgaTFJID09IC0gMSA6CiAgcmV0dXJuIEZhbHNlCiBlbHNlIDoKICBvb08wMDBvT28wMCA9IElJMUlJaUlJSUlpMWkgWyBpMUkgXSBbIDEgXQogcmV0dXJuIG9vTzAwMG9PbzAwCiBpZiA5IC0gOTogSWkxSSAtIG9PTyAlIGlJaTExICUgSTFJaUkxSUlJMTFpICogSUlvb29PMG9vTzBvbyAtIGlJaTExCmRlZiBvTzBPbzAwICggbGluayApIDoKIEkxaTFJaTFpSUkgPSByZSAuIGZpbmRhbGwgKCAnbGlzdD0oLio/KSg/OiZ8XHN8JCkrJyAsIG9vMG8gKCBsaW5rICkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKIG9Pb09vID0gWyBdCiBpZiBsZW4gKCBJMWkxSWkxaUlJICkgPiAwIDoKICBmb3IgTzAwT29vMG8wT08gaW4gSTFpMUlpMWlJSSA6CiAgIG9Pb09vIC4gYXBwZW5kICggJ3BsdWdpbjovL3BsdWdpbi52aWRlby55b3V0dWJlL3BsYXlsaXN0LyVzLycgJSBzdHIgKCBJMWkxSWkxaUlJIFsgMCBdICkgKQogIHJldHVybiBvT29PbwogZWxzZSA6CiAgcmV0dXJuIE5vbmUKICBpZiA2NiAtIDY2OiBvT08KZGVmIE9vT08wT08wb09PICggbGluayApIDoKIGlpSUkgPSBJMWlpSTFJICggbGluayApCiBpZiA5OCAtIDk4OiBJSUlJICogSWkgKyBJaSAtIElJCiBJMWkxSWkxaUlJID0gcmUgLiBzZWFyY2ggKCAnL3N0cmVhbWluZy8uKj9tM3U4JyAsIGlpSUkgKSAuIGdyb3VwICggMCApCiBpZiBJMWkxSWkxaUlJIDoKICBpZiA4NSAtIDg1OiBJaTFJICogSUkgLiBJaUlJMUlpSSAtIGlpMUkxaWkxSWlJaTEgLSBPT29Pb08wbzBvME9PIC8gSTFJaUkxSUlJMTFpCiAgcmV0dXJuICdodHRwczovL2dsb3JpYS50dicgKyBJMWkxSWkxaUlJCiBlbHNlIDoKICByZXR1cm4gTm9uZQogIGlmIDQyIC0gNDI6IElJSUkgLyBpaTFJMWlpMUlpSWkxICsgb09PIC4gT09PIC8gaUlpMTEKZGVmIG9PSWlJaUlpSWkgKCB0aXQgLCB2aWRlb1VybCApIDoKIGlpMTFpaTFpSUlJMUkgPSBpbnQgKCBzeXMgLiBhcmd2IFsgMSBdICkKIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIHBhdGggPSB2aWRlb1VybCApCiBvb08gLiBzZXRJbmZvICggJ3ZpZGVvJyAsIHsgJ3RpdGxlJyA6IHRpdCB9ICkKIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgb29PICkKIGlmIDIyIC0gMjI6IGlpSUlpMWkxSWlpCmRlZiBvMDBPT09vICggcyApIDoKIHJldHVybiAnJyAuIGpvaW4gKCAoIGMgZm9yIGMgaW4gdW5pY29kZWRhdGEgLiBub3JtYWxpemUgKCAnTkZEJyAsIHMgKSBpZiB1bmljb2RlZGF0YSAuIGNhdGVnb3J5ICggYyApICE9ICdNbicgKSApCiBpZiA2MSAtIDYxOiBJaTFJCiBpZiA1NyAtIDU3OiBvb09vb08wT09PICogaUlpMTEgLSBpaTFJMWlpMUlpSWkxICsgSWlJSTFJaUkgKyBvT08gLiBvb09vb08wT09PCmRlZiBpSTFpMTFJSUkxSWkgKCB0aXQgLCB2aWRlb1VybCApIDoKIHRpdCA9IG8wME9PT28gKCB1bmljb2RlICggdGl0IC4gZGVjb2RlICggJ3V0Zi04JyApICkgKQogaWYgOTcgLSA5NzogSUlvb29PMG9vTzBvbyAlIElJIC0gb28gLyBpMWlJMSAqIG9PTyAlIG9vCiBJMUlpSTExMTExMTEgLCBJaTExSTExSWkxMUkgPSBvcyAuIHBhdGggLiBzcGxpdGV4dCAoIHZpZGVvVXJsICkKIG9vb09PME9PMCAsIElJMUlJMUkxMSA9IG9zIC4gcGF0aCAuIHNwbGl0ZXh0ICggdGl0ICkKIGlmIDM0IC0gMzQ6IElpSUkxSWlJICogSTEgLSBJMSAuIElpSUkxSWlJCiBpZiA1NiAtIDU2OiBpaTFJMWlpMUlpSWkxICsgSUlJSSAqIG9vIC0gb09PCiBpZiBub3QgSWkxMUkxMUlpMTFJIGFuZCBub3QgSUkxSUkxSTExIDoKICBJaTExSTExSWkxMUkgPSAnLmF2aScKICBpZiA4OCAtIDg4OiBJaUlJMWkxSSAuIG9vICsgb29Pb29PME9PTyAuIG8wMG9PMG9vME8wTzAgKiBpaUlJaTFpMUlpaSArIElpSUkxSWlJCiBpZiBub3QgdGl0IC4gZW5kc3dpdGggKCBJaTExSTExSWkxMUkgKSA6CiAgdGl0ID0gdGl0ICsgSWkxMUkxMUlpMTFJCiAgaWYgNjQgLSA2NDogaWkxSTFpaTFJaUlpMQogIGlmIDE5IC0gMTk6IG9vIC4gb29Pb29PME9PTyAtIElJIC0gSWkKIGltcG9ydCB4Ym1jYWRkb24KIHRyeSA6CiAgaW1wb3J0IFNpbXBsZURvd25sb2FkZXIgYXMgZG93bmxvYWRlcgogIGRvd25sb2FkZXIgPSBkb3dubG9hZGVyIC4gU2ltcGxlRG93bmxvYWRlciAoICkKICBPMDBvMDAwMDBPMDAgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnRG93bmxvYWRQYXRoJyApICkKICBpMWkxSSA9IHsgInVybCIgOiB2aWRlb1VybCAuIHN0cmlwICggKSAsICJkb3dubG9hZF9wYXRoIiA6IE8wMG8wMDAwME8wMCAsICJmaWxlbmFtZSIgOiB0aXQgfQogIGRvd25sb2FkZXIgLiBkb3dubG9hZCAoIHRpdCAsIGkxaTFJICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgJ0luaWNpYW5kbyBEZXNjYXJnYS4uLicgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCAzMDAwICkKIGV4Y2VwdCA6CiAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgaWlpID0gJ0FkZG9uIFNpbXBsZSBEb3dubG9hZGVyIG5vIGVuY29udHJhZG8sIHBvciBlc28gbm8gc2UgcHVlZGUgZGVzY2FyZ2FyJwogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaW50ICggc3lzIC4gYXJndiBbIDEgXSApICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBpZiAyNSAtIDI1OiBvMDBvTzBvbzBPME8wIC4gb28KZGVmIElJaSAoIHNlciAsIHRpdHVsbyAsIGJhc2UgLCBpZCAsIHR5cGUgLCBhY3Rpb24gLCBwYXJhbXMgKSA6CiBpaTExaWkxaUlJSTFJID0gaW50ICggc3lzIC4gYXJndiBbIDEgXSApCiBpZiBhY3Rpb24gPT0gJ3BsYXknIDoKICBhY3Rpb24gPSBvT0lpSWlJaUlpCiAgdHJ5IDoKICAgSTExaUlpSUlpID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoIEkxMTFJMTFJMTExMTEgKCBiYXNlICkgKSApCiAgIGlmIDgzIC0gODM6IG9vT29vTzBPT08gLyBpMWlJMSAlIG9PTwogICBvb08wMDBvT28wMCA9ICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdlFtRnpaVVJoZEc5ekwzWnBaWGR6TG5Cb2NEOXBaRDBsY3laMGVYQmxQU1Z6JyApICkgJSAoIEkxMWlJaUlJaSAsIGlkICwgdHlwZSApCiAgIEkxaWlJMUkgKCBvb08wMDBvT28wMCApCiAgIGlmIDY0IC0gNjQ6IElJb29vTzBvb08wb28gJSBJaUlJMUlpSSAtIElpSUkxaTFJCiAgIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXNlICkKICAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogICBpZiB0eXBlID09ICdzZXJpZXMnIDoKICAgIGlmIDkgLSA5OiBpMWlJMSAvIG8wMG9PMG9vME8wTzAgJSBpSWkxMQogICAgT08wbyAuIGV4ZWN1dGUgKAogYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSE5sY21sbGN5QnpaWFFnZG1sbGQzTTlkbWxsZDNNck1TQjNhR1Z5WlNCelpYSnBaVjlwWkNBOUlEOD0nICkgLAogKCBpZCAsICkgKQogICBlbHNlIDoKICAgIGlmIDU0IC0gNTQ6IElpSUkxaTFJIC8gSWlJSTFpMUkgKiBPT29Pb08wbzBvME9PICsgSWlJSTFpMUkKICAgIE9PMG8gLiBleGVjdXRlICgKIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2RYQmtZWFJsSUhCbGJHbHpJSE5sZENCMmFXVjNjejEyYVdWM2N5c3hJSGRvWlhKbElIQmxiR2xmYVdRZ1BTQV8nICkgLCAoIGlkICwgKSApCiAgIElJSWlpMUlpIC4gY29tbWl0ICggKQogICBJSUlpaTFJaSAuIGNsb3NlICggKQogIGV4Y2VwdCA6CiAgIHBhc3MKIGVsc2UgOgogIGFjdGlvbiA9IGlJMWkxMUlJSTFJaQogIHRyeSA6CiAgIGlkID0gaWQgLiBzcGxpdCAoICctJyApIFsgMCBdCiAgIEkxMWlJaUlJaSA9IHpsaWIgLiBkZWNvbXByZXNzICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCBJMTExSTExSTExMTExICggYmFzZSApICkgKQogICBpZiAxOSAtIDE5OiBJMUlpSTFJSUkxMWkKICAgb29PMDAwb09vMDAgPSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZRbUZ6WlVSaGRHOXpMMlJ2ZDI0dWNHaHdQMmxrUFNWekpuUjVjR1U5SlhNPScgKSApICUgKCBJMTFpSWlJSWkgLCBpZCAsIHR5cGUgKQogICBJMWlpSTFJICggb29PMDAwb09vMDAgKQogICBpZiA1MyAtIDUzOiBJaUlJMWkxSSArIElJSUkgLyBJSSAtIEkxSWlJMUlJSTExaSAlIGlpMUkxaWkxSWlJaTEKICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhc2UgKQogICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgIGlmIHR5cGUgPT0gJ3NlcmllcycgOgogICAgaWYgMjIgLSAyMjogSUlJSSAqIGlpMUkxaWkxSWlJaTEgLyBvMDBvTzBvbzBPME8wIC0gSUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSE5sY21sbGN5QnpaWFFnWkc5M2JqMWtiM2R1S3pFZ2QyaGxjbVVnYzJWeWFXVmZhV1FnUFNBXycgKSAsICggaWQgLCApICkKICAgZWxzZSA6CiAgICBpZiA1OSAtIDU5OiBvMDBvTzBvbzBPME8wCiAgICBpZiA1OCAtIDU4OiBpaTFJMWlpMUlpSWkxICogb29vT29PICUgaWlJSWkxaTFJaWkgLiBJSW9vb08wb29PMG9vICogbzAwb08wb28wTzBPMCAvIElpMUkKICAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnZFhCa1lYUmxJSEJsYkdseklITmxkQ0JrYjNkdVBXUnZkMjRyTVNCM2FHVnlaU0J3Wld4cFgybGtJRDBnUHc9PScgKSAsICggaWQgLCApICkKICAgSUlJaWkxSWkgLiBjb21taXQgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgZXhjZXB0IDoKICAgcGFzcwogSUkxSUlpSUlJSWkxaSA9IHNlciAuIHNwbGl0ICggJyAnICkKIGlmIG5vdCBJSTFJSWlJSUlJaTFpIDoKICBpaWkgPSAnVmlkZW8gZW4gcHJlcGFyYWNpXHhjM1x4YjNuJwogIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgaWYgMjUgLSAyNTogSTFJaUkxSUlJMTFpICsgSWkgLSBpaUlJaTFpMUlpaSAuIElpCiB0cnkgOgogIGltcG9ydCByZXNvbHZldXJsCiBleGNlcHQgOgogIGltcG9ydCB0cmFjZWJhY2sKICB0cmFjZWJhY2sgLiBwcmludF9leGMgKCBmaWxlID0gc3lzIC4gc3Rkb3V0ICkKICBpaWkgPSAnQWRkb24gc2NyaXB0Lm1vZHVsZS5yZXNvbHZldXJsIG5vIGVuY29udHJhZG8nCiAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA3MDAwICkKICBpZiAxOCAtIDE4OiBJMUlpSTFJSUkxMWkgJSBvb29Pb08KIGZvciBPMDBPb28wbzBPTyBpbiB4cmFuZ2UgKCBsZW4gKCBJSTFJSWlJSUlJaTFpICkgKSA6CiAgaTFpaTEgPSBvbzBvICggSUkxSUlpSUlJSWkxaSBbIE8wME9vbzBvME9PIF0gKQogIHhibWMgLiBsb2cgKCAnSE9MQUEgJyArIGkxaWkxICwgbGV2ZWwgPSB4Ym1jIC4gTE9HTk9USUNFICkKICBpMTExMTEgPSBJaTFJSWlJMTFpSTEgKCBpMWlpMSAsIEZhbHNlICkKICBpZiA4NCAtIDg0OiBpaTFJMWlpMUlpSWkxICogaTFpSTEgKiBJSW9vb08wb29PMG9vICogSWkxSQogIGlmIDQ5IC0gNDk6IElpSUkxaTFJICogSWlJSTFJaUkKICBPME9vb09PTzBPID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCB0aXR1bG8gKQogIGlmIDg5IC0gODk6IGkxaUkxIC4gSWlJSTFpMUkgLSBpSWkxMQogIGlmIDYgLSA2OiBJSSArIGlpMUkxaWkxSWlJaTEgLyBpMWlJMSAlIGlpMUkxaWkxSWlJaTEgKiBPT29Pb08wbzBvME9PCiAgaWYgMTQgLSAxNDogSWkgLSBPT29Pb08wbzBvME9PIC4gSUlvb29PMG9vTzBvbyArIEkxIC4gb29Pb29PME9PTyAtIElpCiAgaWYgODMgLSA4Mzogb29vT29PIC4gaWlJSWkxaTFJaWkgLSBJMUlpSTFJSUkxMWkKICBpZiAyIC0gMjogSTFJaUkxSUlJMTFpCiAgaWYgOTYgLSA5NjogaWlJSWkxaTFJaWkgLiBJMUlpSTFJSUkxMWkgJSBpSWkxMSAuIGlpSUlpMWkxSWlpCiAgaWYgMSAtIDE6IElJb29vTzBvb08wb28gJSBPT29Pb08wbzBvME9PICUgb29vT29PIC4gb09PCiAgaWYgMTMgLSAxMzogaWkxSTFpaTFJaUlpMSArIGlJaTExICUgb28KICBpZiAxNCAtIDE0OiBpSWkxMSArIE9Pb09vTzBvMG8wT08gLSBvbyAtIG8wMG9PMG9vME8wTzAKICBpZiBpMTExMTEgPT0gJ2FyJyA6CiAgIE8wME8wME9vT29vID0gJ2FyY2hpdmUnCiAgIHRyeSA6CiAgICBpSSA9IE9PICggTzAwTzAwT29Pb28gLCBpMWlpMSAsIGJhc2UgKQogICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgZXhjZXB0IEhUVFBFcnJvciA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRWwgc2Vydmlkb3IgJXMgcGFyZWNlIGNhaWRvLCBpbnRlbnRhbG8gbWFzIHRhcmRlJyAlIE8wME8wME9vT29vCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSBPMDBPMDBPb09vbwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaW1wb3J0IHRyYWNlYmFjawogICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIGVsaWYgaTExMTExID09ICdrYicgb3IgaTExMTExID09ICdkaycgOgogICBpZiBpMTExMTEgPT0gJ2tiJyA6CiAgICBPMDBPMDBPb09vbyA9ICdrLWJhZ2kuY29tJwogICAgT08wb08gPSAnS2FiYWdpJwogICBlbHNlIDoKICAgIE8wME8wME9vT29vID0gJ2Rpc2tva29zbWlrby5teCcKICAgIE9PMG9PID0gJ0Rpc2tva29zbWljbycKICAgdHJ5IDoKICAgIGlJID0gaTFpSUlJaWkxICggTzAwTzAwT29Pb28gLCBpMWlpMSAsIGJhc2UgKQogICAgaWYgaUkgPT0gJycgYW5kIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBlbmxhY2UgeWEgbm8gZXhpc3RlJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgYnJlYWsKICAgIGVsaWYgaUkgLiBlbmRzd2l0aCAoICdOb0xvZ2luJyApIGFuZCBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICB4Ym1jZ3VpIC4gRGlhbG9nICggKSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCAnJXM6IFVzdWFyaW8gKCVzKSB5IENvbnRyYXNlw7FhIGluY29ycmVjdGFzJyAlICggT08wb08gLCBpSSAuIHNwbGl0ICggJyMjJyApIFsgMCBdICkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX1dBUk5JTkcgLCA4MDAwICkKICAgICBicmVhawogICAgZWxpZiBub3QgaUkgLiBlbmRzd2l0aCAoICdOb0xvZ2luJyApIDoKICAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaTFpSUlJaWkxICggTzAwTzAwT29Pb28gLCBpMWlpMSAsIGJhc2UgKSApCiAgICAgYnJlYWsKICAgZXhjZXB0IEhUVFBFcnJvciA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRWwgc2Vydmlkb3IgJXMgcGFyZWNlIGNhaWRvLCBpbnRlbnRhbG8gbWFzIHRhcmRlJyAlIE8wME8wME9vT29vCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgICBpbXBvcnQgdHJhY2ViYWNrCiAgICAgdHJhY2ViYWNrIC4gcHJpbnRfZXhjICggZmlsZSA9IHN5cyAuIHN0ZG91dCApCiAgIGV4Y2VwdCBFeGNlcHRpb24gOgogICAgaWYgTzAwT29vMG8wT08gPT0gbGVuICggSUkxSUlpSUlJSWkxaSApIC0gMSA6CiAgICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSBPMDBPMDBPb09vbwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaW1wb3J0IHRyYWNlYmFjawogICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogIGVsaWYgaTExMTExID09ICdkaycgOgogICB0cnkgOgogICAgaUkgPSBPbzAwT29vTyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2FIUjBjRG92TDJScGMydHZhMjl6YldscmJ5NXRlQT09JyApICwgaTFpaTEgKQogICAgaWYgaUkgPT0gJycgYW5kIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFbCBlbmxhY2UgeWEgbm8gZXhpc3RlJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgYnJlYWsKICAgIGVsaWYgaUkgIT0gJycgOgogICAgIGFjdGlvbiAoIE8wT29vT09PME8gLCBpSSApCiAgICAgYnJlYWsKICAgZXhjZXB0IEhUVFBFcnJvciA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRWwgc2Vydmlkb3IgJXMgcGFyZWNlIGNhaWRvLCBpbnRlbnRhbG8gbWFzIHRhcmRlJyAlICdkaXNrb2tvc21pY28nCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgZXhjZXB0IEV4Y2VwdGlvbiA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdkaXNrb2tvc21pY28nCiAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBlbGlmIGkxMTExMSA9PSAncmUnIG9yIGkxMTExMSA9PSAneXQnIG9yIGkxMTExMSA9PSAnc3RhbmRhcmQnIDoKICAgaWYgaTExMTExID09ICd5dCcgOgogICAgaUkgPSBvTzBPbzAwICggaTFpaTEgKQogICBlbHNlIDoKICAgIGlJID0gaTFpaTEKICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgYnJlYWsKICBlbGlmIGkxMTExMSA9PSAnZ2xvcmlhJyA6CiAgIGlJID0gT29PTzBPTzBvT08gKCBpMWlpMSApCiAgIGlmIGlJICE9IE5vbmUgOgogICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgZWxzZSA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdnbG9yaWEudHYnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICBicmVhawogIGVsaWYgaTExMTExID09ICdzYycgOgogICBvb08wMDBvT28wMCA9IGkxaWkxCiAgIHRyeSA6CiAgICBpaUlJID0gSTFpaUkxSSAoIGkxaWkxICkKICAgIGlmICc8aDE+RmlsZSBOb3QgRm91bmQ8L2gxPicgaW4gaWlJSSBvciAnPGgxPkFyY2hpdm8gbm8gZW5jb250cmFkbzwvaDE+JyBpbiBpaUlJIG9yIGlpSUkgPT0gJ05vdCBGb3VuZCcgOgogICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgICBpaWkgPSAnRWwgZW5sYWNlIHlhIG5vIGV4aXN0ZScKICAgICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGVsc2UgOgogICAgIGlJID0gcmUgLiBmaW5kYWxsICggJ2ZpbGVcXDogIihbXiJdKykiJyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICBpZiBub3QgaUkgOgogICAgICBvT08wb29vbyA9ICcnCiAgICAgIG8wID0gcmUgLiBmaW5kYWxsICggJzxpbnB1dC4qP25hbWU9IihbXiJdKykiLio/dmFsdWU9IihbXiJdKikiPicgLCBpaUlJICwgZmxhZ3MgPSByZSAuIERPVEFMTCApCiAgICAgIGZvciBPMDAwMG8wICwgb29vb28wIGluIG8wIDoKICAgICAgIG9PTzBvb29vICs9IE8wMDAwbzAgKyAnPScgKyBvb29vbzAgKyAnJicKICAgICAgIGlmIDcgLSA3OiBJaUlJMWkxSSAvIG9vCiAgICAgIG9PTzBvb29vID0gb09PMG9vb28gLiByZXBsYWNlICggJ29wPWRvd25sb2FkMScgLCAnb3A9ZG93bmxvYWQyJyApCiAgICAgIGlpSUkgPSBJMWlpSTFJICggb29PMDAwb09vMDAgLCBwb3N0ID0gb09PMG9vb28gKQogICAgICBpZiAnaWQ9Imp1c3Rhbm90aWNlIicgaW4gaWlJSSA6CiAgICAgICByZXR1cm4gWyBdCiAgICAgIGlJID0gcmUgLiBmaW5kYWxsICggJ2ZpbGVcXDogIihbXiJdKykiJyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICB0cnkgOgogICAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgWyAwIF0gKQogICAgICBicmVhawogICAgIGV4Y2VwdCA6CiAgICAgIHBhc3MKICAgZXhjZXB0IEhUVFBFcnJvciA6CiAgICBpZiBPMDBPb28wbzBPTyA9PSBsZW4gKCBJSTFJSWlJSUlJaTFpICkgLSAxIDoKICAgICBpaWkgPSAnRWwgc2Vydmlkb3IgJXMgcGFyZWNlIGNhaWRvLCBpbnRlbnRhbG8gbWFzIHRhcmRlJyAlICdzdHJlYW1jbG91ZCcKICAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICBleGNlcHQgRXhjZXB0aW9uIDoKICAgIGlmIE8wME9vbzBvME9PID09IGxlbiAoIElJMUlJaUlJSUlpMWkgKSAtIDEgOgogICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ3N0cmVhbWNsb3VkJwogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICAgaWYgNiAtIDY6IEkxIC8gT09vT29PMG8wbzBPTyAlIEkxSWlJMUlJSTExaSAvIG9vCiAgZWxpZiBpMTExMTEgPT0gJ3RrJyA6CiAgIG9vTzAwMG9PbzAwID0gaTFpaTEKICAgb08wbyA9IGRpY3QgKCApCiAgIG9PMG8gWwogIlVzZXItQWdlbnQiIF0gPSAiTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzcwLjAuMzE2My4xMDAgU2FmYXJpLzUzNy4zNiIKICAgb08wbyBbCiAiQWNjZXB0IiBdID0gInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgiCiAgIG9PMG8gWyAiQWNjZXB0LUxhbmd1YWdlIiBdID0gImVzLUVTLGVzO3E9MC44LGVuLVVTO3E9MC41LGVuO3E9MC4zIgogICBvTzBvIFsgIkFjY2VwdC1DaGFyc2V0IiBdID0gIlVURi04IgogICBvTzBvIFsgIkFjY2VwdC1FbmNvZGluZyIgXSA9ICJnemlwIgogICBpZiAnYmInIGluIHBhcmFtcyBhbmQgJ21tJyBpbiBwYXJhbXMgOgogICAgaUkgPSAnJXMmYmI9JXMmbW09JXN8VXNlci1BZ2VudD0lcycgJSAoIG9vTzAwMG9PbzAwICwgcGFyYW1zIFsgJ2JiJyBdICwgcGFyYW1zIFsgJ21tJyBdICwgb08wbyApCiAgIGVsc2UgOgogICAgaUkgPSAnJXN8VXNlci1BZ2VudD0lcycgJSAoIG9vTzAwMG9PbzAwICwgb08wbyApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICd0aycKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiAzMyAtIDMzOiBJaUlJMWkxSSAlIG9vb09vTyAqIElpSUkxSWlJIC4gSUkgLiBJMUlpSTFJSUkxMWkKICBlbGlmICdnb2ZpbGUuaW8nIGluIGkxaWkxIDoKICAgb08wbzBPID0gaTFpaTEgWyBpMWlpMSAuIGZpbmQgKCAnPScgKSArIDEgOiBdCiAgIElJSTFpMUkxMWkgPSAnaHR0cHM6Ly9hcGl2Mi5nb2ZpbGUuaW8vZ2V0U2VydmVyP2M9JyArIG9PMG8wTwogICBPMG9PID0gcmVxdWVzdHMgLiBnZXQgKCBJSUkxaTFJMTFpICkKICAgaWlpaTExMTFJaSA9IE8wb08gLiBqc29uICggKSBbICdkYXRhJyBdIFsgJ3NlcnZlcicgXQogICBpMWlpMSA9ICdodHRwczovLycgKyBpaWlpMTExMUlpICsgJy5nb2ZpbGUuaW8vZ2V0VXBsb2FkP2M9JyArIG9PMG8wTwogICBPMG9PID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIGlJID0gTzBvTyAuIGpzb24gKCApIFsgJ2RhdGEnIF0gWyAnZmlsZXMnIF0gWyAnMCcgXSBbICdsaW5rJyBdCiAgIGlJID0gaUkgLiByZXBsYWNlICggJ2h0dHBzJyAsICdodHRwJyApIC4gcmVwbGFjZSAoICcgJyAsICclMjAnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNTEgLSA1MTogaTFpSTEgLiBJMUlpSTFJSUkxMWkgLSBJMQogICAgaWYgNDMgLSA0MzogaWlJSWkxaTFJaWkgKiBvb09vb08wT09PICsgSUlJSSAuIG9vICogb28KICBlbGlmICdwaXhlbGRyYWluJyBpbiBpMWlpMSA6CiAgIG9PMG8wTyA9IGkxaWkxIFsgaTFpaTEgLiBmaW5kICggJ3UvJyApICsgMiA6IF0KICAgaUkgPSAnaHR0cHM6Ly9waXhlbGRyYWluLmNvbS9hcGkvZmlsZS8nICsgb08wbzBPICsgJz9kb3dubG9hZCcKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ215LWZpbGVzLnJ1JyBpbiBpMWlpMSA6CiAgIEkxMTFpaUlpaTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgLCB2ZXJpZnkgPSBGYWxzZSApCiAgIG9PMDBvT28gPSByZSAuIHNlYXJjaCAoICcnJyg/OiJ1cmwiIGhyZWY9WyciXSkoW1wlfFwoKXw6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86KScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkgLiBncm91cCAoIDEgKQogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBvTzAwb09vICwgaGVhZGVycyA9IHsgJ0Nvb2tpZScgOiAnc2Vzc2lvbl90b2tlbj1kMGY2NnNqbDk1cWNkZ3dmYjZzMGZ6bzh5eHU2OWp0NCcgLCAnUmVmZXJlcicgOiBpMWlpMSAsICdBY2NlcHQnIDogJyovKicgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gRmFsc2UgKQogICBpSSA9IEkxMTFpaUlpaTEgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDQyIC0gNDI6IElpIC0gT09PIC4gT09PIC8gSUkKICBlbGlmICdkZWdvbycgaW4gaTFpaTEgOgogICBpZiAiZGVnb28uY29tL3cvIiBpbiBpMWlpMSA6CiAgICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgICBpSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCIgdGFyZ2V0PVwiX3NlbGZcIj5Eb3dubG9hZCknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgICBpZiBsZW4gKCBpSSApID4gMSA6CiAgICAgb08wMG8wMG9vME9vMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Ojx0cj48dGQ+KShbXCV8XCZ8XCN8XDt8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwubWt2fFwubXA0fFwuYXZpKSg/OjwvdGQ+PHRkIGNsYXNzPSknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgICAgaUlpaTFpMSA9IHppcCAoIG9PMDBvMDBvbzBPbzAgLCBpSSApCiAgICAgaUlpaTFpMSA9IHNldCAoIGlJaWkxaTEgKQogICAgIGlJaWkxaTEgPSBzb3J0ZWQgKCBpSWlpMWkxICkKICAgICBvTzAwbzAwb28wT28wICwgaUkgPSB6aXAgKCAqIGlJaWkxaTEgKQogICAgIE9vMDAgPSBbIF0KICAgICBmb3IgT09vT29PIGluIG9PMDBvMDBvbzBPbzAgOgogICAgICBvT09vME8wID0gSFRNTFBhcnNlciAuIEhUTUxQYXJzZXIgKCApIC4gdW5lc2NhcGUgKCBPT29Pb08gKQogICAgICBPbzAwIC4gYXBwZW5kICggb09PbzBPMCApCiAgICAgaWkxaSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIE9vMDAgKQogICAgIGlJID0gaUkgWyBpaTFpIF0KICAgIGVsc2UgOgogICAgIGlJID0gaUkgWyAwIF0KICAgZWxzZSA6CiAgICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdIb3N0JyA6ICdjbG91ZC5kZWdvby5jb20nICwgJ0FjY2VwdCcgOiAnKi8qJyAsICdVc2VyLUFnZW50JyA6ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgUmlnb3IvMS4wLjA7IGh0dHA6Ly9yaWdvci5jb20pJyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgb08wMG9PbyA9IEkxMTFpaUlpaTEgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgICBvME9vID0gb08wMG9PbyBbIG9PMDBvT28gLiBmaW5kICggJ2h0dHBzOi8vJyApICsgOCA6IG9PMDBvT28gLiBmaW5kICggJ2xpbmsnICkgKyA0IF0KICAgIGlpaUlpaTFJaUlJID0gcmVxdWVzdHMgLiBnZXQgKCBvTzAwb09vICwgaGVhZGVycyA9IHsgJ0hvc3QnIDogbzBPbyAsICdBY2NlcHQnIDogJyovKicgLCAnVXNlci1BZ2VudCcgOiAnTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IFJpZ29yLzEuMC4wOyBodHRwOi8vcmlnb3IuY29tKScgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIG9PT09vMG8gPSByZSAuIHNlYXJjaCAoICcnJyg/OndpbmRvdy50b3AubG9jYXRpb24gPSB2YWxpZGF0ZVwoXCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgaWlpSWlpMUlpSUkgLiB0ZXh0ICkgLiBncm91cCAoIDEgKQogICAgSTFPT29vMDAwbzBPME9vID0gcmVxdWVzdHMgLiBnZXQgKCBvT09PbzBvICkKICAgIGlJID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIiB0YXJnZXQ9XCJfc2VsZlwiPkRvd25sb2FkKScnJyAsIEkxT09vbzAwMG8wTzBPbyAuIHRleHQgKQogICAgaWYgbGVuICggaUkgKSA+IDEgOgogICAgIG9PMDBvMDBvbzBPbzAgPSByZSAuIGZpbmRhbGwgKCAnJycoPzo8dHI+PHRkPikoW1wlfFwmfFwjfFw7fFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcLm1rdnxcLm1wNHxcLmF2aSkoPzo8L3RkPjx0ZCBjbGFzcz0pJycnICwgSTFPT29vMDAwbzBPME9vIC4gdGV4dCApCiAgICAgaUlpaTFpMSA9IHppcCAoIG9PMDBvMDBvbzBPbzAgLCBpSSApCiAgICAgaUlpaTFpMSA9IHNldCAoIGlJaWkxaTEgKQogICAgIGlJaWkxaTEgPSBzb3J0ZWQgKCBpSWlpMWkxICkKICAgICBvTzAwbzAwb28wT28wICwgaUkgPSB6aXAgKCAqIGlJaWkxaTEgKQogICAgIE9vMDAgPSBbIF0KICAgICBmb3IgT09vT29PIGluIG9PMDBvMDBvbzBPbzAgOgogICAgICBvT09vME8wID0gSFRNTFBhcnNlciAuIEhUTUxQYXJzZXIgKCApIC4gdW5lc2NhcGUgKCBPT29Pb08gKQogICAgICBPbzAwIC4gYXBwZW5kICggb09PbzBPMCApCiAgICAgaWkxaSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIE9vMDAgKQogICAgIGlJID0gaUkgWyBpaTFpIF0KICAgIGVsc2UgOgogICAgIGlJID0gaUkgWyAwIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgJ3VzZXJzY2xvdWQuY29tJyBpbiBpMWlpMSA6CiAgIHRyeSA6CiAgICBpZiBsZW4gKCBJaTExMSBbIDAgXSApID4gMiA6CiAgICAgcGFzcwogICBleGNlcHQgOgogICAgT29PTzBPMG9PME8gPSAnaHR0cHM6Ly91c2Vyc2Nsb3VkLmNvbScKICAgIGlmIDczIC0gNzM6IE9Pb09vTzBvMG8wT08gLSBPT29Pb08wbzBvME9PCiAgICBvMElpMUkxMWlJaTFJMUkgPSBbIFsgJ1BhbDAxJyAsICdwYWwwMTIwMTknIF0gLCBbICdQYWwwMicgLCAncGFsMDIyMDE5JyBdICwgWyAnUGFsMDMnICwgJ3BhbDAzMjAxOScgXSBdCiAgICBpSUlpSWlpMWkxID0gcmFuZG9tIC4gcmFuZGludCAoIDAgLCBsZW4gKCBvMElpMUkxMWlJaTFJMUkgKSAtIDEgKQogICAgaWlJSSA9IHsgJ29wJyA6ICdsb2dpbicgLAogJ3JhbmQnIDogJycgLAogJ3JlZGlyZWN0JyA6ICcnICwKICdsb2dpbicgOiBvMElpMUkxMWlJaTFJMUkgWyBpSUlpSWlpMWkxIF0gWyAwIF0gLAogJ3Bhc3N3b3JkJyA6IG8wSWkxSTExaUlpMUkxSSBbIGlJSWlJaWkxaTEgXSBbIDEgXSB9CiAgICBPT29vb28wbzBPID0gcmVxdWVzdHMgLiBwb3N0ICggT29PTzBPMG9PME8gLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIElpMTExID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBPT29vb28wbzBPIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWVcPVwiaWRcIiB2YWx1ZVw9XCIpKFthLXpBLVowLTldKykoPzpcIlw+KScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgaTFpID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZVw9XCJyYW5kXCIgdmFsdWVcPVwiKShbYS16QS1aMC05XSspKD86XCJcPiknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiAnZG93bmxvYWQyJyAsCiAnaWQnIDogaWQgWyAwIF0gLAogJ3JhbmQnIDogJycgLAogJ3JlZmVyZXInIDogJycgLAogJ21ldGhvZF9mcmVlJyA6ICcnICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyB9CiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ2xvZ2luPScgKyBvMElpMUkxMWlJaTFJMUkgWyBpSUlpSWlpMWkxIF0gWyAwIF0gKyAnOyB4ZnNzPScgKyBJaTExMSBbIDAgXSB9CiAgIGlJaWkxSSA9IHJlcXVlc3RzIC4gcG9zdCAoIGkxaWkxICwgZGF0YSA9IGlpSUkgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaWYgMzcgLSAzNzogSWlJSTFpMUkKICAgT08wTzBPT08gPSBpSWlpMUkgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIEkxSUlpMSA9IHJlIC4gc2VhcmNoICggJycnKFw6W2EtekEtWjAtOV0rKScnJyAsIE9PME8wT09PICkgLiBncm91cCAoIDEgKQogICBpSSA9IE9PME8wT09PIC4gcmVwbGFjZSAoIEkxSUlpMSAsICcnICkgLiByZXBsYWNlICggSTFJSWkxICwgJycgKSAuIHJlcGxhY2UgKCAnICcgLCAnJTIwJyApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDc0IC0gNzQ6IElJSUkgLSBpSWkxMSAvIElJCiAgZWxpZiAnZGVzaXVwbG9hZC5pbicgaW4gaTFpaTEgOgogICB0cnkgOgogICAgaWYgbGVuICggaUlJaUkxaSBbIDAgXSApID4gMiA6CiAgICAgcGFzcwogICBleGNlcHQgOgogICAgT29PTzBPMG9PME8gPSAnaHR0cHM6Ly9kZXNpdXBsb2FkLmluLycKICAgIGlmIDM3IC0gMzc6IGlpMUkxaWkxSWlJaTEgJSBvMDBvTzBvbzBPME8wIC8gb29Pb29PME9PTyArIEkxICUgSTEgLiBpSWkxMQogICAgbzBJaTFJMTFpSWkxSTFJID0gWyBbICdQYWwwMScgLCAncGFsMDEyMDE5JyBdICwgWyAnUGFsMDInICwgJ3BhbDAyMjAxOScgXSAsIFsgJ1BhbDAzJyAsICdwYWwwMzIwMTknIF0gXQogICAgaUlJaUlpaTFpMSA9IHJhbmRvbSAuIHJhbmRpbnQgKCAwICwgbGVuICggbzBJaTFJMTFpSWkxSTFJICkgLSAxICkKICAgIGlpSUkgPSB7ICdvcCcgOiAnbG9naW4nICwKICd0b2tlbicgOiAnJyAsCiAncmFuZCcgOiAnJyAsCiAncmVkaXJlY3QnIDogJycgLAogJ2xvZ2luJyA6IG8wSWkxSTExaUlpMUkxSSBbIGlJSWlJaWkxaTEgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogbzBJaTFJMTFpSWkxSTFJIFsgaUlJaUlpaTFpMSBdIFsgMSBdIH0KICAgIE9Pb29vbzBvME8gPSByZXF1ZXN0cyAuIHBvc3QgKCBPb09PME8wb08wTyAsIGRhdGEgPSBpaUlJICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgaUlJaUkxaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/Onhmc3M9KShbYS16QS1aMC05XSspKD86XDspJycnICwgT09vb29vMG8wTyAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIGlJSWlJMWkgWyAwIF0gfQogICBvTzBvME8gPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICdpbi8nICkgKyAzIDogXQogICBpaUlJID0geyAnb3AnIDogJ2Rvd25sb2FkMicgLAogJ2lkJyA6IG9PMG8wTyAsCiAncmFuZCcgOiAnJyAsCiAncmVmZXJlcicgOiAnJyAsCiAnbWV0aG9kX2ZyZWUnIDogJycgLAogJ21ldGhvZF9wcmVtaXVtJyA6ICcnICwKICdhZGJsb2NrX2RldGVjdGVkJyA6ICcxJyB9CiAgIGlmIDk2IC0gOTY6IG9vIC8gaWlJSWkxaTFJaWkgLyBPT08gKiBPT29Pb08wbzBvME9PIC8gSWlJSTFpMUkgLyBvMDBvTzBvbzBPME8wCiAgIEkxMTFpaUlpaTEgPSByZXF1ZXN0cyAuIHBvc3QgKCBpMWlpMSAsIGRhdGEgPSBpaUlJICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlmIDIgLSAyOiBvT08KICAgaTFpaTEgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpcImRvd25sb2FkYnRuXCIgc3R5bGVcPVwicGFkZGluZzoxNXB4IDMwcHg7XCI+PGEgaHJlZj1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlJID0gaTFpaTEgWyAwIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNzMgLSA3MzogSTFJaUkxSUlJMTFpIC4gSWkxSSAtIE9Pb09vTzBvMG8wT08gLiBJaUlJMWkxSQogIGVsaWYgJ3RoZWZpbGVzbG9ja2VyLmNvbScgaW4gaTFpaTEgOgogICB0cnkgOgogICAgaWYgbGVuICggb29vMG8wb29vMG8wMCBbIDAgXSApID4gMiA6CiAgICAgcGFzcwogICBleGNlcHQgOgogICAgT29PTzBPMG9PME8gPSAnaHR0cHM6Ly90aGVmaWxlc2xvY2tlci5jb20vJwogICAgaWYgNjMgLSA2MzogSUlJSSAqIGkxaUkxIC8gSWlJSTFJaUkgKiBpaUlJaTFpMUlpaSAuIE9PTyAlIElpSUkxSWlJCiAgICBvMElpMUkxMWlJaTFJMUkgPSBbIFsgJ1BhbDAxJyAsICdwYWwwMTIwMTknIF0gLCBbICdQYWwwMicgLCAncGFsMDIyMDE5JyBdICwgWyAnUGFsMDMnICwgJ3BhbDAzMjAxOScgXSBdCiAgICBpSUlpSWlpMWkxID0gcmFuZG9tIC4gcmFuZGludCAoIDAgLCBsZW4gKCBvMElpMUkxMWlJaTFJMUkgKSAtIDEgKQogICAgaWlJSSA9IHsgJ29wJyA6ICdsb2dpbicgLAogJ3JhbmQnIDogJycgLAogJ3JlZGlyZWN0JyA6ICdodHRwczovL3RoZWZpbGVzbG9ja2VyLmNvbS8nICwKICdsb2dpbicgOiBvMElpMUkxMWlJaTFJMUkgWyBpSUlpSWlpMWkxIF0gWyAwIF0gLAogJ3Bhc3N3b3JkJyA6IG8wSWkxSTExaUlpMUkxSSBbIGlJSWlJaWkxaTEgXSBbIDEgXSB9CiAgICBPT29vb28wbzBPID0gcmVxdWVzdHMgLiBwb3N0ICggT29PTzBPMG9PME8gLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIG9vbzBvMG9vbzBvMDAgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp4ZnNzPSkoW2EtekEtWjAtOV0rKSg/Olw7KScnJyAsIE9Pb29vbzBvME8gLiBoZWFkZXJzIFsgJ1NldC1Db29raWUnIF0gKQogICBvMDBvT09Pb09PbzBPID0gcmVxdWVzdHMgLiBwb3N0ICggT29PTzBPMG9PME8gLCBkYXRhID0gaWlJSSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgbzAwID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBvMDBvT09Pb09PbzBPIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgbzBPbzBPMG9PID0gcmUgLiBmaW5kYWxsICggJycnKD86bG9naW49KShbYS16QS1aMC05XSspKD86XDspJycnICwgbzAwb09PT29PT28wTyAuIGhlYWRlcnMgWyAnU2V0LUNvb2tpZScgXSApCiAgIGlmIDI1IC0gMjU6IG9vIC8gSWlJSTFJaUkgKyBPT29Pb08wbzBvME9PIC0gSUlJSSArIE9PTwogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgIGlkID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cImlkXCIgdmFsdWU9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBPb08gPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lPVwiZm5hbWVcIiB2YWx1ZT1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiAnZG93bmxvYWQyJyAsCiAndXNyX2xvZ2luJyA6ICcnICwKICdpZCcgOiBpZCAsCiAnZm5hbWUnIDogT29PICwKICdyZWZlcmVyJyA6IGkxaWkxICwKICdtZXRob2RfZnJlZScgOiAnTGliZXJ0YSBEZXNjYXJnYSA+PicgfQogICBpZiAyMCAtIDIwOiBPT29Pb08wbzBvME9PIC0gT09PIC0gSUlvb29PMG9vTzBvbyAtIG9vT29vTzBPT08gKyBPT29Pb08wbzBvME9PICsgSTFJaUkxSUlJMTFpCiAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIG9vbzBvMG9vbzBvMDAgWyAwIF0gKyAnOyAnICsgJ2xvZ2luPScgKyBvMElpMUkxMWlJaTFJMUkgWyBpSUlpSWlpMWkxIF0gWyAwIF0gLCAnUmVmZXJlcicgOiBpMWlpMSB9CiAgIEkxMTFpaUlpaTEgPSByZXF1ZXN0cyAuIHBvc3QgKCBpMWlpMSAsIGhlYWRlcnMgPSBpSWlpSWkxaTFpMWkxICwgZGF0YSA9IGlpSUkgKQogICBpMWlpMSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OmhyZWY9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCI+KSg/Omh0dHApJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpSSA9IGkxaWkxIFsgMCBdCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdIMjY1JwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDMxIC0gMzE6IElpMUkKICBlbGlmICdvbnVwbG9hZHMuY29tJyBpbiBpMWlpMSA6CiAgIElpaUlJMWlJSSA9IHJlcXVlc3RzIC4gc2Vzc2lvbiAoICkKICAgSUlpSWkgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV09XNjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS83Ny4wLjM4NjUuOTIgJyAnWWFCcm93c2VyLzE5LjEwLjAuMTQwMSBZb3dzZXIvMi41IFNhZmFyaS81MzcuMzYnCiAgIGlmIDM5IC0gMzk6IElpICsgSWkKICAgSTExMWlpSWlpMSA9IElpaUlJMWlJSSAuIGdldCAoIGkxaWkxICwgaGVhZGVycyA9IHsgJ1VzZXItQWdlbnQnIDogSUlpSWkgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUkxb09vTzBPT28wID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cIm9wXCIgdmFsdWU9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgaWlJSSA9IHsgJ29wJyA6IGlJMW9Pb08wT09vMCBbIDAgXSAsCiAnaWQnIDogaWQgWyAwIF0gLAogJ3JhbmQnIDogJycgLAogJ3JlZmVyZXInIDogJycgLAogJ21ldGhvZF9mcmVlJyA6ICcnICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyAsCiAnYWRibG9ja19kZXRlY3RlZCcgOiAnMCcgfQogICBpZiA4MiAtIDgyOiBpSWkxMSAlIGlJaTExIC4gaWkxSTFpaTFJaUlpMSAtIElJSUkKICAgaWlpSWlpMUlpSUkgPSBJaWlJSTFpSUkgLiBwb3N0ICggaTFpaTEgLCBkYXRhID0gaWlJSSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3xcLDovLkEtej88XyZccz0+MC05Oy1dKykoPzoiPjxpbWcgc3JjPSIuLi9pbWFnZXMvZGJ0bi5qcGciIHdpZHRoPSIxNTBweCIgdGl0bGU9ImRvd25sb2FkIGJ1dHRvbiIgYWx0PSJzdWJtaXQgYnV0dG9uIj48L2E+KScnJyAsIGlpaUlpaTFJaUlJIC4gdGV4dCApCiAgIGlJID0gaWlJaTFJMWlpIFsgMCBdCiAgIElpaUlJMWlJSSAuIGNsb3NlICggKQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiAzMyAtIDMzOiBvb29Pb08gLyBJSUlJIC4gaTFpSTEgLiBJMUlpSTFJSUkxMWkKICBlbGlmICd1cGZpbGUubW9iaScgaW4gaTFpaTEgOgogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2VcPWZpbGUmW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpaUlpaTFJaUlJID0gcmVxdWVzdHMgLiBnZXQgKCBpaUlpMUkxaWkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpSUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rXD9wYWdlPWRvd25sb2FkJnNlcnZlcltcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgaWlpSWlpMUlpSUkgLiB0ZXh0ICkKICAgaTFpaTEgPSBpSUkgWyAwIF0KICAgSTFPT29vMDAwbzBPME9vID0gcmVxdWVzdHMgLiBnZXQgKCBpSUkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpMWlpMSA9IEkxT09vbzAwMG8wTzBPbyAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgSTFJSWkxID0gcmUgLiBzZWFyY2ggKCAnJycoXDpbYS16QS1aMC05XSspJycnICwgaTFpaTEgKSAuIGdyb3VwICggMSApCiAgIGlJID0gaTFpaTEgLiByZXBsYWNlICggSTFJSWkxICwgJycgKQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA4NSAtIDg1OiBPT08gLyBvb09vb08wT09PIC4gSWkxSSAtIElJCiAgZWxpZiAncXRmaWxlLmNvbScgaW4gaTFpaTEgOgogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2VcPWZpbGUmW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpaUlpaTFJaUlJID0gcmVxdWVzdHMgLiBnZXQgKCBpaUlpMUkxaWkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpSUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rXD9wYWdlPWRvd25sb2FkJnNlcnZlcltcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgaWlpSWlpMUlpSUkgLiB0ZXh0ICkKICAgaTFpaTEgPSBpSUkgWyAwIF0KICAgSTFPT29vMDAwbzBPME9vID0gcmVxdWVzdHMgLiBnZXQgKCBpSUkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpMWlpMSA9IEkxT09vbzAwMG8wTzBPbyAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgSTFJSWkxID0gcmUgLiBzZWFyY2ggKCAnJycoXDpbYS16QS1aMC05XSspJycnICwgaTFpaTEgKSAuIGdyb3VwICggMSApCiAgIGlJID0gaTFpaTEgLiByZXBsYWNlICggSTFJSWkxICwgJycgKQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA3OCAtIDc4OiBPT08gKyBJaUlJMWkxSSAlIG9PTwogIGVsaWYgJzlmaWxlcy5jbycgaW4gaTFpaTEgOgogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXStcP3BhZ2VcPWZpbGUmW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpaUlpaTFJaUlJID0gcmVxdWVzdHMgLiBnZXQgKCBpaUlpMUkxaWkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpSUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzogaHJlZj1bJyJdKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rXD9wYWdlPWRvd25sb2FkJnNlcnZlcltcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgaWlpSWlpMUlpSUkgLiB0ZXh0ICkKICAgaTFpaTEgPSBpSUkgWyAwIF0KICAgSTFPT29vMDAwbzBPME9vID0gcmVxdWVzdHMgLiBnZXQgKCBpSUkgWyAwIF0gLCBoZWFkZXJzID0geyAnUmVmZXJlcicgOiBpMWlpMSB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpMWlpMSA9IEkxT09vbzAwMG8wTzBPbyAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgSTFJSWkxID0gcmUgLiBzZWFyY2ggKCAnJycoXDpbYS16QS1aMC05XSspJycnICwgaTFpaTEgKSAuIGdyb3VwICggMSApCiAgIGlJID0gaTFpaTEgLiByZXBsYWNlICggSTFJSWkxICwgJycgKQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnSDI2NScKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA3MSAtIDcxOiBvMDBvTzBvbzBPME8wIC0gb29vT29PICUgb29vT29PCiAgZWxpZiAnbWVnYXVwJyBpbiBpMWlpMSA6CiAgIHRyeSA6CiAgICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSApCiAgICBvb08wMDBvT28wMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/OmNsYXNzXD1cJ2J0biBidG4tZGVmYXVsdFwnIGhyZWY9XCcpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSszRCknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBvb08wMDBvT28wMCBbIDAgXSAsIGhlYWRlcnMgPSB7ICdjb29raWUnIDogJ2ZpbGVob3N0aW5nPTdiNTZkMmR1ZmNpNG5iZHRuOXRucWQwZXU1JyB9ICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICAgaUkgPSBJMTExaWlJaWkxIC4gaGVhZGVycyBbICdsb2NhdGlvbicgXQogICBleGNlcHQgOgogICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgKQogICAgb29PMDAwb09vMDAgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpjbGFzc1w9XCdidG4gYnRuLWRlZmF1bHRcJyBocmVmPVwnKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rM0QpJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggb29PMDAwb09vMDAgWyAwIF0gLCBoZWFkZXJzID0geyAnY29va2llJyA6ICdmaWxlaG9zdGluZz0xOWhhNWhrdWlvYWZncGllbGxuYWkwNGJnMycgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgIGlJID0gSTExMWlpSWlpMSAuIGhlYWRlcnMgWyAnbG9jYXRpb24nIF0KICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0gyNjUnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMSAtIDE6IG8wMG9PMG9vME8wTzAgLyBJSUlJIC0gaUlpMTEgLiBvb29Pb08KICBlbGlmICdqZXRsb2FkLm5ldCcgaW4gaTFpaTEgOgogICBPTzBPT29PMDAgPSBpMWlpMSBbIGkxaWkxIC4gZmluZCAoICcvZC8nICkgKyBsZW4gKCAnL2QvJyApIDogXQogICBJaWkxMSA9ICdodHRwczovL2pldGxvYWQubmV0L2FwaS9nZXRfZGlyZWN0X3ZpZGVvLycgKyBPTzBPT29PMDAKICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggSWlpMTEgKQogICBPMG8wMDBvME9vID0gSTExMWlpSWlpMSAuIGpzb24gKCApCiAgIE9vb08wME9PbzBPT08gPSBPMG8wMDBvME9vIFsgJ2ZpbGUnIF0gWyAnZmlsZV9uYW1lJyBdCiAgIElJSWlpMWlpSTExaTEgPSAnLicgKyBPMG8wMDBvME9vIFsgJ2ZpbGUnIF0gWyAnZmlsZV9leHQnIF0KICAgSUkxSUlpSUkgPSBPMG8wMDBvME9vIFsgJ2ZpbGUnIF0gWyAnc3J2X2lkJyBdCiAgIE9PMDBvMDBvbzBvT08wID0gJ2h0dHBzOi8vamV0bG9hZC5uZXQvYXBpL2Rvd25sb2FkJwogICBpaWlJaWkxSWlJSSA9IHJlcXVlc3RzIC4gcG9zdCAoIE9PMDBvMDBvbzBvT08wICwgZGF0YSA9IHsgJ2ZpbGVfbmFtZScgOiBPb29PMDBPT28wT09PICsgSUlJaWkxaWlJMTFpMSAsICdzcnYnIDogSUkxSUlpSUkgfSApCiAgIGlJID0gaWlpSWlpMUlpSUkgLiB0ZXh0CiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdPY2VhbicKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA4NCAtIDg0OiBvT08gJSBvT08KICBlbGlmICdzYXJ1Y2guY28nIGluIGkxaWkxIDoKICAgb08wbzBPID0gaTFpaTEgWyBpMWlpMSAuIGZpbmQgKCAndmlkZW8vJyApICsgbGVuICggJ3ZpZGVvLycgKSA6IF0KICAgaTFpaTFpaWkxSUlJSSA9ICdodHRwczovL2FwaS5zYXJ1Y2guY28vdmlkZW9zLycgKyBvTzBvME8gKyAnL3N0cmVhbScKICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTFpaWkxSUlJSSApCiAgIElJMUlJaUlJSUlpMWkgPSBbIF0KICAgSUlpSWlJMTEgPSBbIF0KICAgbzBPb29PMDBPT28gPSBJMTExaWlJaWkxIC4ganNvbiAoICkgWyAndmlkZW8nIF0gWyAnc291cmNlcycgXQogICBmb3IgTzAwT29vMG8wT08gaW4gcmFuZ2UgKCAwICwgbGVuICggbzBPb29PMDBPT28gKSApIDoKICAgIGkxaWkxID0gbzBPb29PMDBPT28gWyBPMDBPb28wbzBPTyBdCiAgICBJSWlJaUkxMSAuIGFwcGVuZCAoIGkxaWkxIFsgJ2xhYmVsJyBdICkKICAgIElJMUlJaUlJSUlpMWkgLiBhcHBlbmQgKCBpMWlpMSBbICdmaWxlJyBdICkKICAgSWkxSUlJMUlJMUkxaSA9IF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnYXV0b19vY2VhbicgKQogICBpZiBJaTFJSUkxSUkxSTFpID09ICJmYWxzZSIgOgogICAgaWYgbGVuICggSUkxSUlpSUlJSWkxaSApID4gMSA6CiAgICAgaWkxaSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIElJaUlpSTExICkKICAgICBpZiBpaTFpID09IC0gMSA6CiAgICAgIG9vT28wMCA9ICIlcyIgJSAnSGFzIGNhbmNlbGFkbycKICAgICAgcmV0dXJuIHhibWMgLiBleGVjdXRlYnVpbHRpbiAoICJOb3RpZmljYXRpb24oXCJQYWxhbnRpciBJTkZPOlwiLCBcIiVzXCIpIiAlIG9vT28wMCApCiAgICAgZWxzZSA6CiAgICAgIGlJID0gSUkxSUlpSUlJSWkxaSBbIGlpMWkgXQogICBlbHNlIDoKICAgIGlJID0gSUkxSUlpSUlJSWkxaSBbIDAgXQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnT2NlYW4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNjYgLSA2NjogSWlJSTFpMUkgLSBJSW9vb08wb29PMG9vIC4gaWlJSWkxaTFJaWkgLyBJSW9vb08wb29PMG9vICsgSUlJSQogIGVsaWYgJ3BveWJveC5jb20nIGluIGkxaWkxIDoKICAgaUkgPSBpMWlpMQogICB0cnkgOgogICAgaUlJaSA9IHhibWNndWkgLiBMaXN0SXRlbSAoIE8wT29vT09PME8gKQogICAgaUlJaSAuIHNldFBhdGggKCBpSSApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnT2NlYW4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgNDMgLSA0Mzogb29vT29PICogb29vT29PICUgaTFpSTEgJSBvb29Pb08gLSBJaUlJMWkxSSAlIElJb29vTzBvb08wb28KICBlbGlmICdkZmlsZS5zcGFjZScgaW4gaTFpaTEgOgogICBJMTExaWlJaWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgdmVyaWZ5ID0gVHJ1ZSApCiAgIGkxaWkxID0gSTExMWlpSWlpMSAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0KICAgaUkgPSBpMWlpMSAuIHJlcGxhY2UgKCAnaHR0cHMnICwgJ2h0dHAnICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09jZWFuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDE0IC0gMTQ6IElJICUgSTFJaUkxSUlJMTFpIC0gSWkxSSAlIE9PTyAqIGkxaUkxICUgSTFJaUkxSUlJMTFpCiAgZWxpZiAna3VzdG9kLmlvJyBpbiBpMWlpMSA6CiAgIElpaUlJMWlJSSA9IHJlcXVlc3RzIC4gc2Vzc2lvbiAoICkKICAgaWlJSWlpSWlpaTFJID0gaTFpaTEgWyBpMWlpMSAuIGZpbmQgKCAnL3MvJyApICsgbGVuICggJy9zLycgKSA6IF0KICAgSTFJaWlpMUkxMWlpID0gJ2h0dHBzOi8vYnJhaW4ua3VzdG9kLmlvL3YxL3RhZ2dpbmdzLycgKyBpaUlJaWlJaWlpMUkgKyAnL2ZpbGUvdXJsJwogICBpSWlpMUkgPSBJaWlJSTFpSUkgLiBnZXQgKCBJMUlpaWkxSTExaWkgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJID0gaUlpaTFJIC4gaGVhZGVycyBbICdsb2NhdGlvbicgXQogICBJaWlJSTFpSUkgLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09jZWFuJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICBlbGlmICJ1cHcuaW8iIGluIGkxaWkxIDoKICAgSWlpSUkxaUlJID0gcmVxdWVzdHMgLiBzZXNzaW9uICggKQogICBJSWlJaSA9ICJNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS4xMjAgU2FmYXJpLzUzNy4zNiIKICAgaUlpaTFJID0gSWlpSUkxaUlJIC4gZ2V0ICggaTFpaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSAsIGhlYWRlcnMgPSB7ICd1c2VyLWFnZW50JyA6IElJaUlpIH0gKQogICBpMWlpMSA9IHJlIC4gc2VhcmNoICggJycnKD86aHJlZj1bJyJdKShbOi8uQS16PzxfJlxzPT4wLTk7LV0rJTNEKSg/Oic+ZG93bmxvYWQpJycnICwgaUlpaTFJIC4gdGV4dCApIC4gZ3JvdXAgKCAxICkKICAgaWlpSWlpMUlpSUkgPSBJaWlJSTFpSUkgLiBnZXQgKCBpMWlpMSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUkgPSBpaWlJaWkxSWlJSSAuIGhlYWRlcnMgWyAnbG9jYXRpb24nIF0KICAgSWlpSUkxaUlJIC4gY2xvc2UgKCApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdPY2VhbicKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgICBpZiA0NiAtIDQ2OiBPT08gKiBpSWkxMQogIGVsaWYgInNhbmR1cC5jbyIgaW4gaTFpaTEgOgogICBJaWlJSTFpSUkgPSByZXF1ZXN0cyAuIHNlc3Npb24gKCApCiAgIElJaUlpID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNzcuMC4zODY1LjkyICcgJ1lhQnJvd3Nlci8xOS4xMC4wLjE0MDEgWW93c2VyLzIuNSBTYWZhcmkvNTM3LjM2JwogICBpZiAzMCAtIDMwOiBJaSAvIGkxaUkxICsgSTEKICAgSTExMWlpSWlpMSA9IElpaUlJMWlJSSAuIGdldCAoIGkxaWkxICwgaGVhZGVycyA9IHsgJ1VzZXItQWdlbnQnIDogSUlpSWkgfSAsIHZlcmlmeSA9IEZhbHNlICkKICAgaUkxb09vTzBPT28wID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cIm9wXCIgdmFsdWU9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgaWlJSSA9IHsgJ29wJyA6IGlJMW9Pb08wT09vMCAsCiAnaWQnIDogaWQgLAogJ3JhbmQnIDogJycgLAogJ3JlZmVyZXInIDogJycgLAogJ21ldGhvZF9mcmVlJyA6ICcnICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyAsCiAnYWRibG9ja19kZXRlY3RlZCcgOiAnMCcgfQogICBpaWlJaWkxSWlJSSA9IElpaUlJMWlJSSAuIHBvc3QgKCBpMWlpMSAsIGRhdGEgPSBpaUlJICkKICAgaWlJaTFJMWlpID0gcmUgLiBmaW5kYWxsICggJycnKD86IGhyZWY9WyciXSkoLispKD86IiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4gYnRuLXByaW1hcnkgYnRuLWJsb2NrIG1iLTQiPiknJycgLCBpaWlJaWkxSWlJSSAuIHRleHQgKQogICBpZiA3MyAtIDczOiBvbyAvIElJICUgSWkKICAgaTFpaTEgPSBpaUlpMUkxaWkgWyAwIF0KICAgaTFpaTEgPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIGkxaWkxICkKICAgaWYgMiAtIDI6IG9vIC4gSUlJSSAuIElpSUkxSWlJICUgaWlJSWkxaTFJaWkgLSBJaQogICBpZiA3OCAtIDc4OiBvb09vb08wT09PIC8gaTFpSTEgLyBJMUlpSTFJSUkxMWkgKyBPT08gKyBJaTFJICsgT09PCiAgIGlmIDk0IC0gOTQ6IGkxaUkxIC4gSTEgLyBJMSAuIEkxIC0gb09PCiAgIGlJID0gaTFpaTEgLiByZXBsYWNlICggJyAnICwgJyUyMCcgKQogICBpSSA9IGlJIC4gcmVwbGFjZSAoICdfJyAsICclMjAnICkgKyAnIHwgdmVyaWZ5aG9zdD1mYWxzZSZhdXRoPVNTTC9UTFMmdmVyaWZ5cGVlcj1mYWxzZScKICAgSWlpSUkxaUlJIC4gY2xvc2UgKCApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIGlmIDQ2IC0gNDY6IGlJaTExICUgT09vT29PMG8wbzBPTyAlIElJCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgVHJ1ZSAsIGlJSWkgKQogICBleGNlcHQgOgogICAgaWlpID0gJ0Vycm9yIGRlbCBzZXJ2aWRvciAlcywgVHJhYmFqYW1vcyBwYXJhIHNvbHVjaW9uYXJsbycgJSAnQXJ0aWMnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogIGVsaWYgImN1dGVkcml2ZS5jb20iIGluIGkxaWkxIDoKICAgSWlpSUkxaUlJID0gcmVxdWVzdHMgLiBzZXNzaW9uICggKQogICBJSWlJaSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS45MiAnICdZYUJyb3dzZXIvMTkuMTAuMC4xNDAxIFlvd3Nlci8yLjUgU2FmYXJpLzUzNy4zNicKICAgaWYgODYgLSA4NjogaTFpSTEgLiBJaTFJIC4gSWlJSTFJaUkKICAgSTExMWlpSWlpMSA9IElpaUlJMWlJSSAuIGdldCAoIGkxaWkxICwgaGVhZGVycyA9IHsgJ1VzZXItQWdlbnQnIDogSUlpSWkgfSAsIGFsbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgaUkxb09vTzBPT28wID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cIm9wXCIgdmFsdWU9XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgT29PID0gcmUgLiBmaW5kYWxsICggJycnKD86bmFtZT1cImZuYW1lXCIgdmFsdWU9XCIpKFtcJXxcK1wjfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiBpSTFvT29PME9PbzAgWyAwIF0gLAogJ3Vzcl9sb2dpbicgOiAnJyAsCiAnaWQnIDogaWQgWyAwIF0gLAogJ2ZuYW1lJyA6IE9vTyBbIDAgXSAsCiAncmVmZXJlcicgOiBpMWlpMSAsCiAnbWV0aG9kX2ZyZWUnIDogJ0xpYmVydGEgRGVzY2FyZ2EgPj4nIH0KICAgaUlpaTFJID0gSWlpSUkxaUlJIC4gcG9zdCAoIGkxaWkxICwgZGF0YSA9IGlpSUkgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJMW9Pb08wT09vMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJvcFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIGlJaWkxSSAuIHRleHQgKQogICBpZCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJpZFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIGlJaWkxSSAuIHRleHQgKQogICBpaUlJID0geyAnb3AnIDogaUkxb09vTzBPT28wIFsgMCBdICwKICdpZCcgOiBpZCBbIDAgXSAsCiAncmFuZCcgOiAnJyAsCiAncmVmZXJlcicgOiBpMWlpMSAsCiAnbWV0aG9kX2ZyZWUnIDogJ0xpYmVydGEgRGVzY2FyZ2EgPj4nICwKICdtZXRob2RfcHJlbWl1bScgOiAnJyB9CiAgIGlpaUlpaTFJaUlJID0gSWlpSUkxaUlJIC4gcG9zdCAoIGkxaWkxICwgZGF0YSA9IGlpSUkgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJID0gaWlpSWlpMUlpSUkgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdCiAgIGlJID0gaUkgLiByZXBsYWNlICggJyAnICwgJyUyMCcgKQogICBJaWlJSTFpSUkgLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ0tvdG8nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgODMgLSA4MzogT09PICogSTEgLyBvbyAqIE9PTwogIGVsaWYgImZpbGUuY20iIGluIGkxaWkxIDoKICAgSWlpSUkxaUlJID0gcmVxdWVzdHMgLiBzZXNzaW9uICggKQogICBJSWlJaSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS45MiAnICdZYUJyb3dzZXIvMTkuMTAuMC4xNDAxIFlvd3Nlci8yLjUgU2FmYXJpLzUzNy4zNicKICAgaWYgNzkgLSA3OTogSTEgJSBJaTFJCiAgIEkxMTFpaUlpaTEgPSBJaWlJSTFpSUkgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdVc2VyLUFnZW50JyA6IElJaUlpIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJMW9Pb08wT09vMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJvcFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgaWQgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lPVwiaWRcIiB2YWx1ZT1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiBpSTFvT29PME9PbzAgWyAwIF0gLAogJ2lkJyA6IGlkIFsgMCBdICwKICdyYW5kJyA6ICcnICwKICdyZWZlcmVyJyA6IGkxaWkxICwKICdtZXRob2RfZnJlZScgOiAnJyAsCiAnbWV0aG9kX3ByZW1pdW0nIDogJycgfQogICBpaWlJaWkxSWlJSSA9IElpaUlJMWlJSSAuIHBvc3QgKCBpMWlpMSAsIGRhdGEgPSBpaUlJICwgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UgKQogICBpSSA9IGlpaUlpaTFJaUlJIC4gaGVhZGVycyBbICdMb2NhdGlvbicgXQogICBpSSA9IGlJIC4gcmVwbGFjZSAoICcgJyAsICclMjAnICkKICAgSWlpSUkxaUlJIC4gY2xvc2UgKCApCiAgIHRyeSA6CiAgICBpSUlpID0geGJtY2d1aSAuIExpc3RJdGVtICggTzBPb29PT08wTyApCiAgICBpSUlpIC4gc2V0UGF0aCAoIGlJICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBUcnVlICwgaUlJaSApCiAgIGV4Y2VwdCA6CiAgICBpaWkgPSAnRXJyb3IgZGVsIHNlcnZpZG9yICVzLCBUcmFiYWphbW9zIHBhcmEgc29sdWNpb25hcmxvJyAlICdWaWtlJwogICAgb29PID0geGJtY2d1aSAuIExpc3RJdGVtICggaWlpICwgaWNvbkltYWdlID0gJ0RlZmF1bHRWaWRlby5wbmcnICkKICAgIHhibWNwbHVnaW4gLiBzZXRSZXNvbHZlZFVybCAoIGlpMTFpaTFpSUlJMUkgLCBGYWxzZSAsIG9vTyApCiAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICBJaTFpSSAuIG5vdGlmaWNhdGlvbiAoICdQYWxhbnRpcicgLCBpaWkgLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA1MDAwICkKICAgIGlmIDU2IC0gNTY6IG9vb09vTyAlIGlJaTExIC4gb09PICogSUkgLSBPT29Pb08wbzBvME9PCiAgZWxpZiAiNy11cC5uZXQiIGluIGkxaWkxIDoKICAgSWlpSUkxaUlJID0gcmVxdWVzdHMgLiBzZXNzaW9uICggKQogICBJSWlJaSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzc3LjAuMzg2NS45MiAnICdZYUJyb3dzZXIvMTkuMTAuMC4xNDAxIFlvd3Nlci8yLjUgU2FmYXJpLzUzNy4zNicKICAgaWYgNiAtIDY6IElpSUkxaTFJIC8gSTEgKiBpaTFJMWlpMUlpSWkxICsgaWkxSTFpaTFJaUlpMSAvIEkxCiAgIEkxMTFpaUlpaTEgPSBJaWlJSTFpSUkgLiBnZXQgKCBpMWlpMSAsIGhlYWRlcnMgPSB7ICdVc2VyLUFnZW50JyA6IElJaUlpIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGlJMW9Pb08wT09vMCA9IHJlIC4gZmluZGFsbCAoICcnJyg/Om5hbWU9XCJvcFwiIHZhbHVlPVwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgaWQgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpuYW1lPVwiaWRcIiB2YWx1ZT1cIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKyknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIGlpSUkgPSB7ICdvcCcgOiBpSTFvT29PME9PbzAgWyAwIF0gLAogJ2lkJyA6IGlkIFsgMCBdICwKICdyYW5kJyA6ICcnICwKICdyZWZlcmVyJyA6ICcnICwKICdtZXRob2RfZnJlZScgOiAnJyAsCiAnbWV0aG9kX3ByZW1pdW0nIDogJycgLAogJ2FkYmxvY2tfZGV0ZWN0ZWQnIDogJzAnIH0KICAgaWYgMjIgLSAyMjogSUlJSSAtIElJIC0gSTEgLSBvb29Pb08gKyBJMSAlIG9vT29vTzBPT08KICAgaWlpSWlpMUlpSUkgPSBJaWlJSTFpSUkgLiBwb3N0ICggaTFpaTEgLCBkYXRhID0gaWlJSSApCiAgIGlpSWkxSTFpaSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OiBocmVmPVsnIl0pKC4rKSg/OiI+PGkgY2xhc3M9ImZhIGZhLWNsb3VkLWRvd25sb2FkIj4pJycnICwgaWlpSWlpMUlpSUkgLiB0ZXh0ICkKICAgaWYgODIgLSA4MjogSUkgLSBJMUlpSTFJSUkxMWkgLyBvbyAvIElJIC4gT09vT29PMG8wbzBPTwogICBpMWlpMSA9IGlpSWkxSTFpaSBbIDAgXSAuIHJlcGxhY2UgKCAnaHR0cHMnICwgJ2h0dHAnICkKICAgaTFpaTEgPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIGkxaWkxICkKICAgbzBvT09PTzBvb29vMCA9IHJlIC4gZmluZGFsbCAoICcnJyhcOlswLTldKyknJycgLCBpMWlpMSApCiAgIGkxaWkxID0gaTFpaTEgLiByZXBsYWNlICggbzBvT09PTzBvb29vMCBbIDAgXSAsICcnICkKICAgaUkgPSBpMWlpMSAuIHJlcGxhY2UgKCAnICcgLCAnJTIwJyApCiAgIGlJID0gaUkgLiByZXBsYWNlICggJ18nICwgJyUyMCcgKSArICcgfCB2ZXJpZnlob3N0PWZhbHNlJmF1dGg9U1NML1RMUyZ2ZXJpZnlwZWVyPWZhbHNlJwogICBJaWlJSTFpSUkgLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ09zbWsnCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogICAgaWYgMTcgLSAxNzogSWlJSTFpMUkgKyBvb29Pb08KICAgIGlmIDY5IC0gNjk6IEkxSWlJMUlJSTExaSAvIElJSUkKICBlbGlmICd1cHRvc3RyZWFtLmNvbScgaW4gaTFpaTEgOgogICBpZiAyMSAtIDIxOiBvb09vb08wT09PIC0gSWkKICAgaWYgODQgLSA4NDogaWkxSTFpaTFJaUlpMSArIGlpSUlpMWkxSWlpCiAgIGlmIDMwIC0gMzA6IEkxSWlJMUlJSTExaSArIE9PTyAqIElpSUkxaTFJIC8gSTFJaUkxSUlJMTFpCiAgIHRyeSA6CiAgICBpZiBsZW4gKCBvT28wbzAwMG8wIFsgMSBdICkgPiAyIDoKICAgICBwYXNzCiAgIGV4Y2VwdCA6CiAgICB0cnkgOgogICAgIGlmIDI5IC0gMjk6IElpICsgSUkKICAgICBJMUlpaUlJMTEgPSAic2NyaXB0LmN1ZW50YXMucGFsYW50aXIiCiAgICAgSUlpSTFJaWlJaSA9IHhibWNhZGRvbiAuIEFkZG9uICggSTFJaWlJSTExICkKICAgIGV4Y2VwdCA6CiAgICAgcGFzcwogICAgdHJ5IDoKICAgICBpZiBJSWlJMUlpaUlpIDoKICAgICAgSWlpMTFJaTFJSUlpSSA9IElJaUkxSWlpSWkgLiBnZXRTZXR0aW5nICggJ3VzZXJuYW1lX3VwdG9ib3gnICkKICAgICAgb09vID0gSUlpSTFJaWlJaSAuIGdldFNldHRpbmcgKCAncGFzc191cHRvYm94JyApCiAgICAgIGlmIElpaTExSWkxSUlJaUkgIT0gJycgOgogICAgICAgT29PTzBPMG9PME8gPSAnaHR0cHM6Ly91cHRvc3RyZWFtLmNvbS9sb2dpbj9yZWZlcmVyPWhvbWVwYWdlJwogICAgICAgaWlJSSA9IHsgJ2xvZ2luJyA6IElpaTExSWkxSUlJaUkgLAogJ3Bhc3N3b3JkJyA6IG9PbyB9CiAgICAgICBPT29vb28wbzBPID0gcmVxdWVzdHMgLiBwb3N0ICggT29PTzBPMG9PME8gLCBkYXRhID0gaWlJSSAsIGhlYWRlcnMgPSB7ICdSZWZlcmVyJyA6IE9vT08wTzBvTzBPIH0gLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICAgICBvT28wbzAwMG8wID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBPT29vb28wbzBPIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgIGV4Y2VwdCA6CiAgICAgcGFzcwogICAgIGlmIDQ0IC0gNDQ6IG9vICUgaWkxSTFpaTFJaUlpMSArIElJCiAgIHRyeSA6CiAgICBpZiBsZW4gKCBvT28wbzAwMG8wIFsgMSBdICkgPiAyIDoKICAgICBpSWlpSWkxaTFpMWkxID0geyAnQ29va2llJyA6ICd4ZnNzPScgKyBvT28wbzAwMG8wIFsgMSBdICwgJ1JlZmVyZXInIDogaTFpaTEgfQogICAgIG9PMG8wTyA9IGkxaWkxIFsgaTFpaTEgLiBmaW5kICggJ2NvbS8nICkgKyA0IDogXQogICAgIG8wb29PbzAwb08gPSAnaHR0cHM6Ly91cHRvYm94LmNvbS8nICsgb08wbzBPCiAgICAgaUlpMUlpSWlpID0gcmVxdWVzdHMgLiBnZXQgKCBvMG9vT28wMG9PICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgIGV4Y2VwdCA6CiAgICB0cnkgOgogICAgIGlmIGxlbiAoIE9vT28wMDAgWyAxIF0gKSA+IDIgOgogICAgICBwYXNzCiAgICBleGNlcHQgOgogICAgIHRyeSA6CiAgICAgIE9vT08wTzBvTzBPID0gJ2h0dHBzOi8vdXB0b3N0cmVhbS5jb20vbG9naW4/cmVmZXJlcj1ob21lcGFnZScKICAgICAgbzBJaTFJMTFpSWkxSTFJID0gWyBbICdQYWwwMScgLCAncGFsMDEyMDE5JyBdIF0KICAgICAgaUlJaUlpaTFpMSA9IHJhbmRvbSAuIHJhbmRpbnQgKCAwICwgbGVuICggbzBJaTFJMTFpSWkxSTFJICkgLSAxICkKICAgICAgaWlJSSA9IHsgJ2xvZ2luJyA6IG8wSWkxSTExaUlpMUkxSSBbIGlJSWlJaWkxaTEgXSBbIDAgXSAsCiAncGFzc3dvcmQnIDogbzBJaTFJMTFpSWkxSTFJIFsgaUlJaUlpaTFpMSBdIFsgMSBdIH0KICAgICAgT09vb29vMG8wTyA9IHJlcXVlc3RzIC4gcG9zdCAoIE9vT08wTzBvTzBPICwgZGF0YSA9IGlpSUkgKQogICAgICBPb09vMDAwID0gcmUgLiBmaW5kYWxsICggJycnKD86eGZzcz0pKFthLXpBLVowLTldKykoPzpcOyknJycgLCBPT29vb28wbzBPIC4gaGVhZGVycyBbICdTZXQtQ29va2llJyBdICkKICAgICBleGNlcHQgOgogICAgICBwYXNzCiAgICB0cnkgOgogICAgIGlJaWlJaTFpMWkxaTEgPSB7ICdDb29raWUnIDogJ3hmc3M9JyArIE9vT28wMDAgWyAxIF0gLCAnUmVmZXJlcicgOiBpMWlpMSB9CiAgICBleGNlcHQgOgogICAgIGlJaWlJaTFpMWkxaTEgPSB7ICdSZWZlcmVyJyA6IGkxaWkxIH0KICAgSTExMWlpSWlpMSA9IHJlcXVlc3RzIC4gZ2V0ICggaTFpaTEgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSApCiAgIElJMUlJaUlJSUlpMWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp7XCJzcmNcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCIsXCJ0eXBlXCIpJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpZiBsZW4gKCBJSTFJSWlJSUlJaTFpICkgPCAxIDoKICAgIEkxMTFpaUlpaTEgPSByZXF1ZXN0cyAuIGdldCAoIGkxaWkxICwgaGVhZGVycyA9IGlJaWlJaTFpMWkxaTEgLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSApCiAgICBJSTFJSWlJSUlJaTFpID0gcmUgLiBmaW5kYWxsICggJycnKD86e1wic3JjXCJcOlwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwiLFwidHlwZVwiKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgTzBvTzBvbzAwME8gPSByZSAuIGZpbmRhbGwgKCAnJycoRmlsZSBub3QgZm91bmQpJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpZiBPMG9PMG9vMDAwTyA6CiAgICByZXR1cm4geGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiUG9zaWJsZSBlbmxhY2UgYm9ycmFkbywgbm90aWZpY2EgZW4gVGVsZWdyYW0uIEdyYWNpYXMuXCIpIiApCiAgIElJMUlJaUlJSUlpMWkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzp7XCJzcmNcIlw6XCIpKFtcJXxcK3w6Ly5BLXo/PF8mXHM9PjAtOTstXSspKD86XCIsXCJ0eXBlXCIpJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICBpMTFJSUkxID0gcmUgLiBmaW5kYWxsICggJycnKD86XCJsYWJlbFwiXDpcIikoW1wlfFwrfDovLkEtej88XyZccz0+MC05Oy1dKykoPzpcIlwsXCJyZXNcIiknJycgLCBJMTExaWlJaWkxIC4gdGV4dCApCiAgIEkxMTExaTExID0gcmUgLiBmaW5kYWxsICggJycnKD86XCJsYW5nXCJcOlwiKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwiXCxcImlkTGFuZ1wiKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgdHJ5IDoKICAgIEkxSTFpMTFJSUkxMUkgPSByZSAuIGZpbmRhbGwgKCAnJycoPzpraW5kPVwnc3VidGl0bGVzXCcgc3JjPVwnKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKSg/OlwnIHNyY2xhbmc9XCcpJycnICwgSTExMWlpSWlpMSAuIHRleHQgKQogICAgaWYgODEgLSA4MTogaUlpMTEgLSBpaUlJaTFpMUlpaSAuIElJSUkgLyBJaUlJMWkxSSAuIElpMUkKICAgIGlmIDQ2IC0gNDY6IElJb29vTzBvb08wb28gLSBvMDBvTzBvbzBPME8wICsgSUlJSQogICAgaWYgNjkgLSA2OTogSWlJSTFpMUkgJSBpaUlJaTFpMUlpaSAvIE9PTyAtIElJb29vTzBvb08wb28gLyBJSUlJIC8gb09PCiAgICBpZiA0OCAtIDQ4OiBpaUlJaTFpMUlpaSAtIE9Pb09vTzBvMG8wT08KICAgIGlmIDMxIC0gMzE6IG8wMG9PMG9vME8wTzAgLyBpSWkxMSAlIElJSUkKICAgIElpaSA9IFsgXQogICAgaWYgNzEgLSA3MTogSWlJSTFJaUkgLiBJaUlJMUlpSSAqIElpSUkxSWlJICsgaUlpMTEKICAgIGZvciBpMUlpSWlpSUlpSUkxIGluIHJhbmdlICggMCAsIGxlbiAoIEkxSTFpMTFJSUkxMUkgKSApIDoKICAgICBpZiA0IC0gNDogaWkxSTFpaTFJaUlpMSArIG8wMG9PMG9vME8wTzAgLSBJSSAuIElJCiAgICAgaWkxaWlpSWlJaWlJMUkgPSBJMUkxaTExSUlJMTFJIFsgaTFJaUlpaUlJaUlJMSBdIFsgOiAtIDMgXQogICAgIGlmIDk4IC0gOTg6IG9vCiAgICAgSWlpIC4gYXBwZW5kICggaWkxaWlpSWlJaWlJMUkgKyAnc3J0JyApCiAgIGV4Y2VwdCA6CiAgICBwYXNzCiAgIElJaU9vb28wMG9PMCA9IFsgXQogICBmb3IgaTFpaTEgaW4gSUkxSUlpSUlJSWkxaSA6CiAgICBJSWlPb29vMDBvTzAgLiBhcHBlbmQgKCBpMWlpMSAuIHJlcGxhY2UgKCAiXFwiICwgJycgKSApCiAgICBpMTFpMWlpSWkxID0gWyBdCiAgIGZvciBPMDBPb28wbzBPTyBpbiByYW5nZSAoIDAgLCBsZW4gKCBJMTExMWkxMSApICkgOgogICAgaTFJMSA9IEkxMTExaTExIFsgTzAwT29vMG8wT08gXSAuIHJlcGxhY2UgKCAnc3BhJyAsIHUnRXNwYcOxb2wnICkgLiByZXBsYWNlICggJ2VuZycgLCAnRW5nbGlzaCcgKSArICcgLSAnICsgaTExSUlJMSBbIE8wME9vbzBvME9PIF0gLiByZXBsYWNlICggJzIxNjBwJyAsICc0SyAoMjE2MHApJyApCiAgICBpMTFpMWlpSWkxIC4gYXBwZW5kICggaTFJMSApCiAgIHRyeSA6CiAgICBpZiBsZW4gKCBvT28wbzAwMG8wIFsgMSBdICkgPiAyIDoKICAgICB0cnkgOgogICAgICBpMTFpMWlpSWkxID0gWyAnQ3VlbnRhIFByZW1pdW0nIF0gKyBpMTFpMWlpSWkxCiAgICAgZXhjZXB0IDoKICAgICAgaTExaTFpaUlpMSA9IFsgJ0N1ZW50YSBQcmVtaXVtJyBdCiAgICAgdHJ5IDoKICAgICAgSUlpT29vbzAwb08wID0gWyBpSWkxSWlJaWkgLiBoZWFkZXJzIFsgJ0xvY2F0aW9uJyBdIF0gKyBJSWlPb29vMDBvTzAKICAgICBleGNlcHQgOgogICAgICBJSWlPb29vMDBvTzAgPSBbIGlJaTFJaUlpaSAuIGhlYWRlcnMgWyAnTG9jYXRpb24nIF0gXQogICBleGNlcHQgOgogICAgdHJ5IDoKICAgICBpZiBsZW4gKCBPb09vMDAwIFsgMSBdICkgPiAyIDoKICAgICAgSUkxSTExSWlJSSA9IHJlIC4gZmluZGFsbCAoICcnJyg/OndpbmRvdy50b2tlbiA9IFwnKShbXCV8XCt8Oi8uQS16PzxfJlxzPT4wLTk7LV0rKScnJyAsIEkxMTFpaUlpaTEgLiB0ZXh0ICkKICAgICAgaUlvT29vb09vbzAwMCA9ICdodHRwczovL3VwdG9zdHJlYW0uY29tL2FwaS9jaGVja0lwP3Rva2VuPScgKyBJSTFJMTFJaUlJIFsgMCBdCiAgICAgIEkxSTFJaWlJaTEgPSByZXF1ZXN0cyAuIGdldCAoIGlJb09vb29Pb28wMDAgLCBoZWFkZXJzID0gaUlpaUlpMWkxaTFpMSApCiAgICBleGNlcHQgOgogICAgIGlJb09vb29Pb28wMDAgPSAnaHR0cHM6Ly91cHRvc3RyZWFtLmNvbS9hcGkvY2hlY2tJcCcKICAgICBJMUkxSWlpSWkxID0gcmVxdWVzdHMgLiBnZXQgKCBpSW9Pb29vT29vMDAwICkKICAgIHRyeSA6CiAgICAgb29PbzAwID0gIiVzIiAlIHN0ciAoIGRhdGV0aW1lIC4gdGltZWRlbHRhICggc2Vjb25kcyA9IGludCAoIEkxSTFJaWlJaTEgLiB0ZXh0ICkgKSApCiAgICBleGNlcHQgOgogICAgIG9vT28wMCA9ICcwJwogICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiVGUgcXVlZGFuICVzIGRlIHZpc2lvbmFkbywgbHVlZ28gY2FtYmlhIGxhIElQXCIpIiAlIG9vT28wMCApCiAgICBpZiAyOSAtIDI5OiBpaUlJaTFpMUlpaSAtIElJb29vTzBvb08wb28gLyBJSW9vb08wb29PMG9vCiAgIG8wMDAwME9vID0gX19zZXR0aW5nc19fIC4gZ2V0U2V0dGluZyAoICdhdXRvX3RvcCcgKQogICBpZiBvMDAwMDBPbyA9PSAiZmFsc2UiIDoKICAgIGlmIGxlbiAoIElJaU9vb28wMG9PMCApID4gMSA6CiAgICAgaWkxaSA9IHhibWNndWkgLiBEaWFsb2cgKCApIC4gc2VsZWN0ICggIlNlbGVjY2lvbmEgdW4gZW5sYWNlIiAsIGkxMWkxaWlJaTEgKQogICAgIGlmIGlpMWkgPT0gLSAxIDoKICAgICAgb29PbzAwID0gIiVzIiAlICdIYXMgY2FuY2VsYWRvJwogICAgICByZXR1cm4geGJtYyAuIGV4ZWN1dGVidWlsdGluICggIk5vdGlmaWNhdGlvbihcIlBhbGFudGlyIElORk86XCIsIFwiJXNcIikiICUgb29PbzAwICkKICAgICBlbHNlIDoKICAgICAgaUkgPSBJSWlPb29vMDBvTzAgWyBpaTFpIF0KICAgZWxzZSA6CiAgICBpSSA9IElJaU9vb28wMG9PMCBbIDAgXQogICAgaWYgNTcgLSA1NzogSUlJSSArIE9PTyAqIG9vb09vTyArIG9vIC8gb28gLSBvb29Pb08KICAgSTExMWlpSWlpMSAuIGNvbm5lY3Rpb24gLiBjbG9zZSAoICkKICAgdHJ5IDoKICAgIGlJSWkgPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBPME9vb09PTzBPICkKICAgIGlJSWkgLiBzZXRQYXRoICggaUkgKQogICAgdHJ5IDoKICAgICBpSUlpIC4gc2V0U3VidGl0bGVzICggSWlpICkKICAgICBkZWwgSWlpCiAgICAgZGVsIEkxSTFpMTFJSUkxMUkKICAgIGV4Y2VwdCA6CiAgICAgcGFzcwogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIFRydWUgLCBpSUlpICkKICAgZXhjZXB0IDoKICAgIGlpaSA9ICdFcnJvciBkZWwgc2Vydmlkb3IgJXMsIFRyYWJhamFtb3MgcGFyYSBzb2x1Y2lvbmFybG8nICUgJ1RvcCcKICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICB4Ym1jcGx1Z2luIC4gc2V0UmVzb2x2ZWRVcmwgKCBpaTExaWkxaUlJSTFJICwgRmFsc2UgLCBvb08gKQogICAgSWkxaUkgPSB4Ym1jZ3VpIC4gRGlhbG9nICggKQogICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgNTAwMCApCiAgZWxpZiAnZ29vZ2xlLmNvbScgaW4gaTFpaTEgOgogICB0cnkgOgogICAgaUlpaWlpaUkxMTFJID0gImh0dHBzPzovLyg/OmRyaXZlfGRvY3MpXFwuZ29vZ2xlXFwuY29tLyg/OmZpbGUvZC98dWNcXD9pZD18Z2V0X3ZpZGVvX2luZm9cXD9kb2NpZD0pKFteLyZdKykiCiAgICBpZCA9IHJlIC4gZmluZGFsbCAoIGlJaWlpaWlJMTExSSAsIGkxaWkxICwgZmxhZ3MgPSByZSAuIERPVEFMTCApIFsgMCBdCiAgICBvTzAwb09vID0gJ2h0dHBzOi8vZHJpdmUuZ29vZ2xlLmNvbS91Yz9leHBvcnQ9ZG93bmxvYWQmaWQ9JXMnICUgaWQKICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjICVzJyAlIG9PMDBvT28gKQogICAgaWYgMzEgLSAzMTogSUlvb29PMG9vTzBvbyAqIGlJaTExICsgSUkgLyBvT08gKiBPT29Pb08wbzBvME9PCiAgICBvb08wMDBvT28wMCA9IGlJID0gJycKICAgIHRyeSA6CiAgICAgaWlJSSA9IEkxaWlJaSAoIG9PMDBvT28gKSAuIGRhdGEKICAgICBvb08wMDBvT28wMCA9IHJlIC4gZmluZGFsbCAoICdocmVmPSIoL3VjXD9leHBvcnQ9ZG93bmxvYWQmY29uZmlybT1bXiZdKyZpZD1bXiJdKykiJyAsIGlpSUkgLCBmbGFncyA9IHJlIC4gRE9UQUxMICkKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyAlcycgJSBvb08wMDBvT28wMCApCiAgICBleGNlcHQgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGVycm9yIGRvd25sb2FkcGFnZScgKQogICAgIHBhc3MKICAgICBpZiAxOSAtIDE5OiBvbyAqIGlJaTExIC4gT09vT29PMG8wbzBPTyAuIG9PTyAtIEkxSWlJMUlJSTExaQogICAgaWYgaXNpbnN0YW5jZSAoIG9vTzAwMG9PbzAwICwgbGlzdCApIGFuZCBvb08wMDBvT28wMCA6CiAgICAgaWlJSSA9IEkxaWlJaSAoIHVybHBhcnNlIC4gdXJsam9pbiAoIG9PMDBvT28gLCBvb08wMDBvT28wMCBbIDAgXSApICwgZm9sbG93X3JlZGlyZWN0cyA9IEZhbHNlICkKICAgICBpSSA9IGlpSUkgLiBoZWFkZXJzIC4gZ2V0ICggJ2xvY2F0aW9uJyApCiAgICAgeGJtYyAuIGxvZyAoICcjIyMjIyMjIyMjIyMgbWV0b2RvIDE6ICVzJyAlIGlJICkKICAgICBpZiA3IC0gNzogb29Pb29PME9PTwogICAgaWYgbm90ICggaUkgYW5kIEkxaWlJaSAoIGlJICwgZm9sbG93X3JlZGlyZWN0cyA9IEZhbHNlICwgb25seV9oZWFkZXJzID0gVHJ1ZSApIC4gaGVhZGVycyAuIGdldCAoICdjb250ZW50LWRpc3Bvc2l0aW9uJyApICkgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIG1ldG9kbyAyJyApCiAgICAgaUkgPSByZXNvbHZldXJsIC4gcmVzb2x2ZSAoIGkxaWkxICkKICAgICB4Ym1jIC4gbG9nICggJyMjIyMjIyMjIyMjIyBtZXRvZG8gMjogJXMnICUgaUkgKQogICAgIGlmIDM2IC0gMzY6IGlJaTExICogaWkxSTFpaTFJaUlpMSAuIEkxSWlJMUlJSTExaSAuIG9vICUgaWlJSWkxaTFJaWkgJSBJaUlJMWkxSQogICAgaWYgaUkgOgogICAgIHhibWMgLiBsb2cgKCAnIyMjIyMjIyMjIyMjIGV4aXRvICVzJyAlIGlJICkKICAgICBhY3Rpb24gKCBPME9vb09PTzBPICwgaUkgKQogICAgZWxzZSA6CiAgICAgeGJtYyAuIGxvZyAoICcjIyMjIyMjIyMjIyMgZXJyb3InICkKICAgICByYWlzZQogICAgIGlmIDUyIC0gNTI6IElJICUgSUkgKyBPT08KICAgZXhjZXB0IDoKICAgIGltcG9ydCB0cmFjZWJhY2sKICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICAgaWlpID0gJ0xpbmsgY2FpZG8saW50ZW50YWxvIG1hcyB0YXJkZS4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDcwMDAgKQogICAgaWYgMjkgLSAyOTogaUlpMTEgLSBvT08gLiBJaSAtIElJSUkgJSBJaQogIGVsc2UgOgogICB0cnkgOgogICAgaUkgPSByZXNvbHZldXJsIC4gcmVzb2x2ZSAoIGkxaWkxICkKICAgIGlmIGlJID09IEZhbHNlIDoKICAgICBPb28wID0geGJtY2FkZG9uIC4gQWRkb24gKCBpZCA9ICJzY3JpcHQubW9kdWxlLnJlc29sdmV1cmwiICkKICAgICBpaWkgPSAnTGltaXRlIGRpYXJpbyBjb25zdW1pZG8uIENhbWJpYXIgSVAuIHNjcmlwdC5tb2R1bGUucmVzb2x2ZXVybCAlcyAnICUgT29vMCAuIGdldEFkZG9uSW5mbyAoCiAndmVyc2lvbicgKQogICAgIG9vTyA9IHhibWNndWkgLiBMaXN0SXRlbSAoIGlpaSAsIGljb25JbWFnZSA9ICdEZWZhdWx0VmlkZW8ucG5nJyApCiAgICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgICBJaTFpSSA9IHhibWNndWkgLiBEaWFsb2cgKCApCiAgICAgSWkxaUkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9JTkZPICwgMTAwMDAgKQogICAgZWxzZSA6CiAgICAgYWN0aW9uICggTzBPb29PT08wTyAsIGlJICkKICAgZXhjZXB0IDoKICAgIGltcG9ydCB0cmFjZWJhY2sKICAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICAgaWlpID0gJ0xpbmsgY2FpZG8saW50ZW50YWxvIG1hcyB0YXJkZS4nCiAgICBvb08gPSB4Ym1jZ3VpIC4gTGlzdEl0ZW0gKCBpaWkgLCBpY29uSW1hZ2UgPSAnRGVmYXVsdFZpZGVvLnBuZycgKQogICAgeGJtY3BsdWdpbiAuIHNldFJlc29sdmVkVXJsICggaWkxMWlpMWlJSUkxSSAsIEZhbHNlICwgb29PICkKICAgIElpMWlJID0geGJtY2d1aSAuIERpYWxvZyAoICkKICAgIElpMWlJIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDcwMDAgKQogICAgaWYgNjAgLSA2MDogSWlJSTFpMUkgKiBJaUlJMUlpSSArIEkxSWlJMUlJSTExaSAlIEkxSWlJMUlJSTExaQogICAgaWYgOTMgLSA5MzogSUkgJSBJaUlJMWkxSSAtIElpMUkgLyBJMUlpSTFJSUkxMWkgLyBvT08KZGVmIG9PT09PTyAoIGJhcyAsIGRhdGEgKSA6CiBJSWlpSWkgPSBkYXRhIC4gc3BsaXQgKCAnLicgKQogaWYgSUlpaUlpIFsgMCBdID09ICdjcCcgOgogIElJaWlJaSA9IGkxaUlJSWlpMSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ1kyOXdhV0Z3YjNBdVkyOXQnICkgLCBJSWlpSWkgWyAxIF0gLCBiYXMgKQogZWxpZiBJSWlpSWkgWyAwIF0gPT0gJ2RrJyA6CiAgSUlpaUlpID0gT28wME9vb08gKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdhSFIwY0RvdkwyUnBjMnR2YTI5emJXbHJieTV0ZUE9PScgKSAsIElJaWlJaSBbIDEgXSApCiBlbHNlIDoKICBpZiA5NiAtIDk2OiBPT08gKiBvMDBvTzBvbzBPME8wICogSWkgLSBJaSArIGkxaUkxICUgSTFJaUkxSUlJMTFpCiAgSUlpaUlpID0gYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnSlhNdmJXOXlhV0V1WTIxdycgKSAlIGRhdGEKIGRhdGEgPSBJMWlpSTFJICggSUlpaUlpICkKIHRyeSA6CiAgZGF0YSA9IHpsaWIgLiBkZWNvbXByZXNzICggZGF0YSApCiBleGNlcHQgOgogIHhibWMgLiBsb2cgKCAnW2FkZG9uLlBhbGFudGlyXSBFcnJvciBkZWNyeXB0IGJkICVzJyAlICggZGF0YSApICkKICBwYXNzCiBpaUlpaTFJSWkxSSA9IG9wZW4gKCBiYXMgLCAnd2InICkKIGlpSWlpMUlJaTFJIC4gd3JpdGUgKCBkYXRhICkKIGlpSWlpMUlJaTFJIC4gY2xvc2UgKCApCiB0cnkgOgogIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICBpZiA0MSAtIDQxOiBvb09vb08wT09PIC8gb28KICBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MyVnNaV04wSUhabGNuTnBiMjRzSUNoelpXeGxZM1FnWTI5MWJuUW9LaWtnWm5KdmJTQW9jMlZzWldOMElHeHBibXNnWm5KdmJTQnpaWEpwWlhNZ2QyaGxjbVVnYkdsdWF5QjFibWx2YmlCelpXeGxZM1FnYkdsdWF5Qm1jbTl0SUhCbGJHbHpLU2tnWm5KdmJTQjJaWEp6YVc5dScgKSApCiAgSTFpaWlpSUlJSSA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICBJSUlpaTFJaSAuIGNsb3NlICggKQogIGlpaSA9ICdWZXJzLiAlcyAoTcOhcyBkZSAlcyBjb250ZW5pZG9zIGRpZmVyZW50ZXMpJyAlICggSTFpaWlpSUlJSSBbIDAgXSAsIEkxaWlpaUlJSUkgWyAxIF0gKQogIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fSU5GTyAsIDUwMDAgKQogZXhjZXB0IERhdGFiYXNlRXJyb3IgYXMgbzBvMDAwME8wIDoKICBpZiA5NCAtIDk0OiBpSWkxMSAlIG9vT29vTzBPT08gJSBJMUlpSTFJSUkxMWkgLiBJSUlJIC8gSUlJSSAlIG9vCiAgaWYgb3MgLiBwYXRoIC4gaXNmaWxlICggYmFzICkgOgogICBvcyAuIHJlbW92ZSAoIGJhcyApCiAgIGlmIDkwIC0gOTA6IElpSUkxSWlJIC8gSWkxSSAuIElJb29vTzBvb08wb28KICByYWlzZSBvMG8wMDAwTzAKICBpZiAyNCAtIDI0OiBJSSArIG9PTyAlIG8wMG9PMG9vME8wTzAKZGVmIGlJSTFpSUlpSWkxMUkgKCBiYXMgLCBwcm92aWRlciApIDoKIElJSWlpMUlpID0gc3FsaXRlMyAuIGNvbm5lY3QgKCBiYXMgKQogT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogaWYgMjEgLSAyMTogSUlvb29PMG9vTzBvbyAtIGlpMUkxaWkxSWlJaTEgKiBJSUlJIC8gaTFpSTEgKyBvMDBvTzBvbzBPME8wCiBPTzBvIC4gZXhlY3V0ZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ2MyVnNaV04wSUdOeVpXUmxiblJwWVd4eklHWnliMjBnZG1WeWMybHZiZz09JyApICkKIEkxaWlpaUlJSUkgPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiBJSUlpaTFJaSAuIGNsb3NlICggKQogaWYgSTFpaWlpSUlJSSBbIDAgXSA6CiAgaWkxID0gSTFpaWlpSUlJSSBbIDAgXSAuIHNwbGl0ICggJyMjJyApCiAgZm9yIE8wME9vbzBvME9PIGluIHhyYW5nZSAoIGxlbiAoIGlpMSApIC8gMyApIDoKICAgaWYgaWkxIFsgTzAwT29vMG8wT08gKiAzIF0gPT0gcHJvdmlkZXIgOgogICAgaWYgcHJvdmlkZXIgPT0gJ2stYmFnaS5jb20nIDoKICAgICBwcm92aWRlciA9ICdrYmcnCiAgICBlbGlmIHByb3ZpZGVyID09ICdrYmFnaS5jb20nIDoKICAgICBwcm92aWRlciA9ICdrYmcnCiAgICBlbHNlIDoKICAgICBwcm92aWRlciA9ICdkaycKICAgIHJldHVybiBbIF9fc2V0dGluZ3NfXyAuIGdldFNldHRpbmcgKCAnJXNVc2VyTmFtZScgJSBwcm92aWRlciApIG9yIGlpMSBbIE8wME9vbzBvME9PICogMyArIDEgXSAsCiBfX3NldHRpbmdzX18gLiBnZXRTZXR0aW5nICggJyVzUGFzc3dvcmQnICUgcHJvdmlkZXIgKSBvciBpaTEgWyBPMDBPb28wbzBPTyAqIDMgKyAyIF0gXQogICAgaWYgNjMgLSA2MzogSTFJaUkxSUlJMTFpICUgT09vT29PMG8wbzBPTwogcmV0dXJuIFsgJ05vQkROb1VzZXInIF0gKiAyCiBpZiAzOCAtIDM4OiBJSUlJICogSUlvb29PMG9vTzBvbyAvIG9vCmltcG9ydCB1cmxwYXJzZQppZiA3NyAtIDc3OiBvb29Pb08gJSBJMUlpSTFJSUkxMWkgJSBJMUlpSTFJSUkxMWkgKiBpSWkxMQppZiAxMDAgLSAxMDA6IGkxaUkxICUgSWkKaWYgMTUgLSAxNTogT09PIC8gaUlpMTEgKiBJaUlJMUlpSQppbXBvcnQgZ3ppcAppbXBvcnQgY29va2llbGliCmZyb20gU3RyaW5nSU8gaW1wb3J0IFN0cmluZ0lPCmZyb20gdGhyZWFkaW5nIGltcG9ydCBMb2NrCmlmIDI2IC0gMjY6IGlpMUkxaWkxSWlJaTEgKyBPT08KaWlJMUlpaTExaWkgPSBMb2NrICggKQppMTFpMTExID0gY29va2llbGliIC4gTW96aWxsYUNvb2tpZUphciAoICkKSTFpMWlpSUkxaTExID0geGJtYyAuIHRyYW5zbGF0ZVBhdGggKCB4Ym1jYWRkb24gLiBBZGRvbiAoICkgLiBnZXRBZGRvbkluZm8gKCAnUHJvZmlsZScgKSAuIGRlY29kZSAoICd1dGYtOCcgKSApCmkxMUkxID0gb3MgLiBwYXRoIC4gam9pbiAoIEkxaTFpaUlJMWkxMSAsICJjb29raWVzLmRhdCIgKQppZiA0MyAtIDQzOiBPT29Pb08wbzBvME9PIC0gT09vT29PMG8wbzBPTwppaUkxSWlpMTFpaSAuIGFjcXVpcmUgKCApCmlmIG9zIC4gcGF0aCAuIGlzZmlsZSAoIGkxMUkxICkgOgogdHJ5IDoKICBpMTFpMTExIC4gbG9hZCAoIGkxMUkxICwgaWdub3JlX2Rpc2NhcmQgPSBUcnVlICkKIGV4Y2VwdCBFeGNlcHRpb24gOgogIG9zIC4gcmVtb3ZlICggaTExSTEgKQppaUkxSWlpMTFpaSAuIHJlbGVhc2UgKCApCmlmIDY1IC0gNjU6IG9vICUgaWlJSWkxaTFJaWkgJSBJaTFJICUgaTFpSTEgJSBJMUlpSTFJSUkxMWkgLiBpaTFJMWlpMUlpSWkxCmRlZiBpaTFJaWkxICggKSA6CiBpaUkxSWlpMTFpaSAuIGFjcXVpcmUgKCApCiBpMTFpMTExIC4gc2F2ZSAoIGkxMUkxICwgaWdub3JlX2Rpc2NhcmQgPSBUcnVlICkKIGlpSTFJaWkxMWlpIC4gcmVsZWFzZSAoICkKIGlmIDIyIC0gMjI6IElpMUkgJSBJaSAvIG9PTyAuIG9vb09vTwpkZWYgT09PbzBvMG8wMG9PICggZG9tYWluICkgOgogcmV0dXJuIGRpY3QgKCAoIGMgLiBuYW1lICwgYyAuIHZhbHVlICkgZm9yIGMgaW4gaTExaTExMSAuIF9jb29raWVzIC4gZ2V0ICggIi4iICsgZG9tYWluICwgeyB9ICkgLiBnZXQgKCAiLyIgLCB7IH0gKSAuIHZhbHVlcyAoICkgKQogaWYgNTQgLSA1NDogSUlJSSAtIG9vb09vTwpkZWYgSTFpaUlpICggdXJsICwgcG9zdCA9IE5vbmUgLCBoZWFkZXJzID0gTm9uZSAsIGZvbGxvd19yZWRpcmVjdHMgPSBUcnVlICwgb25seV9oZWFkZXJzID0gRmFsc2UgLCByZXBsYWNlX2hlYWRlcnMgPSBGYWxzZSApIDoKIEkxMUlpaTExaTFJaTEgPSB7IH0KIGlmIDEzIC0gMTM6IElJb29vTzBvb08wb28gKyBJSSAuIElpSUkxaTFJIC4gSTFJaUkxSUlJMTFpICogSUlJSQogaWYgNTMgLSA1Mzogb28gKiBJSW9vb08wb29PMG9vIC4gSWkxSSAlIG9PTyAuIG9vT29vTzBPT08KIGlmIHR5cGUgKCBwb3N0ICkgPT0gZGljdCA6CiAgcG9zdCA9IHVybGxpYiAuIHVybGVuY29kZSAoIHBvc3QgKQogIGlmIDMzIC0gMzM6IElpSUkxaTFJIC4gSUlvb29PMG9vTzBvbwogIGlmIDQ1IC0gNDU6IElJb29vTzBvb08wb28gJSBvT08gJSBvT08gJSBvMDBvTzBvbzBPME8wICsgb09PIC0gb09PCiB1cmwgPSB1cmxsaWIgLiBxdW90ZSAoIHVybCAsIHNhZmUgPSAiJS86PSY/fiMrISQsOydAKCkqW10iICkKIGlmIDI4IC0gMjg6IEkxICsgSWkxSSArIElpSUkxSWlJIC8gbzAwb08wb28wTzBPMCAlIE9Pb09vTzBvMG8wT08KIGlmIDE5IC0gMTk6IGkxaUkxICsgSWkxSSAuIElpMUkgLSBJaUlJMWkxSQogb08wbyA9IGRpY3QgKCApCiBvTzBvIFsgIlVzZXItQWdlbnQiIF0gPSAiTW96aWxsYS81LjAgKFgxMTsgTGludXggaTY4NjsgcnY6NDQuMCkgR2Vja28vMjAxMDAxMDEgRmlyZWZveC80NC4wIEljZXdlYXNlbC80NC4wIgogb08wbyBbICJBY2NlcHQiIF0gPSAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksKi8qO3E9MC44Igogb08wbyBbICJBY2NlcHQtTGFuZ3VhZ2UiIF0gPSAiZXMtRVMsZXM7cT0wLjgsZW4tVVM7cT0wLjUsZW47cT0wLjMiCiBvTzBvIFsgIkFjY2VwdC1DaGFyc2V0IiBdID0gIlVURi04Igogb08wbyBbICJBY2NlcHQtRW5jb2RpbmciIF0gPSAiZ3ppcCIKIGkxaWkgPSBvTzBvIC4gY29weSAoICkKIGlmIDQzIC0gNDM6IE9Pb09vTzBvMG8wT08gLiBvMDBvTzBvbzBPME8wICUgSWkgLyBpSWkxMSAvIG8wMG9PMG9vME8wTzAKIGlmIDY2IC0gNjY6IG9vb09vTwogaWYgaGVhZGVycyBpcyBub3QgTm9uZSA6CiAgaWYgbm90IHJlcGxhY2VfaGVhZGVycyA6CiAgIGkxaWkgLiB1cGRhdGUgKCBkaWN0ICggaGVhZGVycyApICkKICBlbHNlIDoKICAgaTFpaSA9IGRpY3QgKCBoZWFkZXJzICkKICAgaWYgNjYgLSA2NjogaTFpSTEgLiBPT08gLSBJaTFJCiAgIGlmIDQyIC0gNDI6IG9vT29vTzBPT08gKyBvbyAvIGlJaTExICogSUlvb29PMG9vTzBvbyAtIG9vb09vTyAuIGkxaUkxCiBPT29vbzBPID0gbGlzdCAoICkKIE9Pb29vME8gLiBhcHBlbmQgKCB1cmxsaWIyIC4gSFRUUEhhbmRsZXIgKCBkZWJ1Z2xldmVsID0gRmFsc2UgKSApCiBPT29vbzBPIC4gYXBwZW5kICggdXJsbGliMiAuIEhUVFBDb29raWVQcm9jZXNzb3IgKCBpMTFpMTExICkgKQogaWYgNSAtIDU6IG9PTwogaWYgODMgLSA4MzogT09vT29PMG8wbzBPTyArIElJSUkgLiBJSSAlIE9Pb09vTzBvMG8wT08gLyBpaUlJaTFpMUlpaQogaWYgbm90IGZvbGxvd19yZWRpcmVjdHMgOgogIE9Pb29vME8gLiBhcHBlbmQgKCBJMU9PICggKSApCiBlbHNlIDoKICBPT29vbzBPIC4gYXBwZW5kICggaWlpSSAoICkgKQogIGlmIDc4IC0gNzg6IG9vb09vTyAtIEkxIC8gSWlJSTFpMUkgLyBJSSAtIElJb29vTzBvb08wb28KICBpZiA5NSAtIDk1OiBvMDBvTzBvbzBPME8wICUgSWlJSTFpMUkgKiBJSUlJICsgaUlpMTEgLSBpaUlJaTFpMUlpaQogTzAwTzAwbzBvb28gPSB1cmxsaWIyIC4gYnVpbGRfb3BlbmVyICggKiBPT29vbzBPICkKIGlmIDkgLSA5OiBpSWkxMQogaWYgMzEgLSAzMTogaUlpMTEgJSBvb09vb08wT09PICsgb29vT29PIC4gSUlvb29PMG9vTzBvbwogSWkxMSA9IHVybGxpYjIgLiBSZXF1ZXN0ICggdXJsICwgcG9zdCAsIGkxaWkgKQogaWYgMjggLSAyODogSTFJaUkxSUlJMTFpIC0gb29vT29PICUgSWkKIHRyeSA6CiAgaWYgMjEgLSAyMTogSWkxSSAtIG9vT29vTzBPT08gLSBJSSAvIG9vb09vTwogIE9PMG9PT09PTyA9IE8wME8wMG8wb29vIC4gb3BlbiAoIElpMTEgKQogIGlmIDM0IC0gMzQ6IE9Pb09vTzBvMG8wT08gKiBvb09vb08wT09PIC4gb28KICBpZiA0IC0gNDogT09vT29PMG8wbzBPTwogZXhjZXB0IHVybGxpYjIgLiBIVFRQRXJyb3IgLCBPTzBvT09PT08gOgogIHhibWMgLiBsb2cgKCAnIyMjIyMjIFBldGljaW9uIHJlYWxpemFkYSBjb24gZXJyb3InICkKICBJMTFJaWkxMWkxSWkxIFsgInN1Y2VzcyIgXSA9IEZhbHNlCiAgSTExSWlpMTFpMUlpMSBbICJjb2RlIiBdID0gT08wb09PT09PIC4gY29kZQogIEkxMUlpaTExaTFJaTEgWyAiZXJyb3IiIF0gPSBPTzBvT09PT08gLiBfX2RpY3RfXyAuIGdldCAoICJyZWFzb24iICwgc3RyICggT08wb09PT09PICkgKQogIEkxMUlpaTExaTFJaTEgWyAiaGVhZGVycyIgXSA9IE9PMG9PT09PTyAuIGhlYWRlcnMgLiBkaWN0CiAgSTExSWlpMTFpMUlpMSBbICdjb29raWVzJyBdID0gT09PbzBvMG8wMG9PICggdXJscGFyc2UgLiB1cmxwYXJzZSAoIHVybCApIFsgMSBdICkKICBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSAiIiBpZiBvbmx5X2hlYWRlcnMgZWxzZSBPTzBvT09PT08gLiByZWFkICggKQogIEkxMUlpaTExaTFJaTEgWyAidXJsIiBdID0gT08wb09PT09PIC4gZ2V0dXJsICggKQogIGlmIDEwMCAtIDEwMDogSWkxSQogZXhjZXB0IEV4Y2VwdGlvbiAsIG8wbzAwMDBPMCA6CiAgeGJtYyAuIGxvZyAoICcjIyMjIyMgUGV0aWNpb24gTk8gcmVhbGl6YWRhJyApCiAgSTExSWlpMTFpMUlpMSBbICJzdWNlc3MiIF0gPSBGYWxzZQogIEkxMUlpaTExaTFJaTEgWyAiY29kZSIgXSA9IG8wbzAwMDBPMCAuIF9fZGljdF9fIC4gZ2V0ICggImVycm5vIiAsIG8wbzAwMDBPMCAuIF9fZGljdF9fIC4gZ2V0ICggImNvZGUiICwgc3RyICggbzBvMDAwME8wICkgKSApCiAgSTExSWlpMTFpMUlpMSBbICJlcnJvciIgXSA9IG8wbzAwMDBPMCAuIF9fZGljdF9fIC4gZ2V0ICggInJlYXNvbiIgLCBzdHIgKCBvMG8wMDAwTzAgKSApCiAgSTExSWlpMTFpMUlpMSBbICJoZWFkZXJzIiBdID0geyB9CiAgSTExSWlpMTFpMUlpMSBbICdjb29raWVzJyBdID0gT09PbzBvMG8wMG9PICggdXJscGFyc2UgLiB1cmxwYXJzZSAoIHVybCApIFsgMSBdICkKICBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSAiIgogIEkxMUlpaTExaTFJaTEgWyAidXJsIiBdID0gdXJsCiAgaWYgMzkgLSAzOTogT09PICUgSTEgLiBvMDBvTzBvbzBPME8wCiBlbHNlIDoKICBJMTFJaWkxMWkxSWkxIFsgInN1Y2VzcyIgXSA9IFRydWUKICBJMTFJaWkxMWkxSWkxIFsgImNvZGUiIF0gPSBPTzBvT09PT08gLiBjb2RlCiAgSTExSWlpMTFpMUlpMSBbICJlcnJvciIgXSA9IE5vbmUKICBJMTFJaWkxMWkxSWkxIFsgImhlYWRlcnMiIF0gPSBPTzBvT09PT08gLiBoZWFkZXJzIC4gZGljdAogIEkxMUlpaTExaTFJaTEgWyAnY29va2llcycgXSA9IE9PT28wbzBvMDBvTyAoIHVybHBhcnNlIC4gdXJscGFyc2UgKCB1cmwgKSBbIDEgXSApCiAgSTExSWlpMTFpMUlpMSBbICJkYXRhIiBdID0gIiIgaWYgb25seV9oZWFkZXJzIGVsc2UgT08wb09PT09PIC4gcmVhZCAoICkKICBJMTFJaWkxMWkxSWkxIFsgInVybCIgXSA9IE9PMG9PT09PTyAuIGdldHVybCAoICkKICBpZiA4MyAtIDgzOiBJSW9vb08wb29PMG9vIC4gSUkgKyBJaUlJMWkxSSAtIElpSUkxaTFJCiAgaWYgNDYgLSA0NjogSWkxSQogaWYgSTExSWlpMTFpMUlpMSBbICJoZWFkZXJzIiBdIC4gZ2V0ICggJ2NvbnRlbnQtZW5jb2RpbmcnICkgPT0gJ2d6aXAnIDoKICBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSBnemlwIC4gR3ppcEZpbGUgKCBmaWxlb2JqID0gU3RyaW5nSU8gKCBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gKSApIC4gcmVhZCAoICkKICBpZiA2NyAtIDY3OiBJaTFJCiBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gPSBIVE1MUGFyc2VyIC4gSFRNTFBhcnNlciAoICkgLiB1bmVzY2FwZSAoIHVuaWNvZGUgKCBJMTFJaWkxMWkxSWkxIFsgImRhdGEiIF0gLCAndXRmOCcgKSApIC4gZW5jb2RlICggJ3V0ZjgnICkKIHJldHVybiBvbzBPME8wICggSTExSWlpMTFpMUlpMSApCiBpZiA1OCAtIDU4OiBpaUlJaTFpMUlpaSAlIElJSUkgKiBJaUlJMWkxSSAlIElJb29vTzBvb08wb28gKyBpMWlJMSAuIElpCiBpZiA2IC0gNjogSWkgLSBPT29Pb08wbzBvME9PCmNsYXNzIEkxT08gKCB1cmxsaWIyIC4gSFRUUFJlZGlyZWN0SGFuZGxlciApIDoKIGRlZiBodHRwX2Vycm9yXzMwMiAoIHNlbGYgLCByZXEgLCBmcCAsIGNvZGUgLCBtc2cgLCBoZWFkZXJzICkgOgogIElJSTFpID0gdXJsbGliIC4gYWRkaW5mb3VybCAoIGZwICwgaGVhZGVycyAsIHJlcSAuIGdldF9mdWxsX3VybCAoICkgKQogIElJSTFpIC4gc3RhdHVzID0gY29kZQogIElJSTFpIC4gY29kZSA9IGNvZGUKICByZXR1cm4gSUlJMWkKICBpZiA0IC0gNDogSWkxSSAuIG8wMG9PMG9vME8wTzAgLiBpSWkxMSAvIElpSUkxaTFJIC0gSWkxSSAqIElJb29vTzBvb08wb28KIGh0dHBfZXJyb3JfMzAwID0gaHR0cF9lcnJvcl8zMDIKIGh0dHBfZXJyb3JfMzAxID0gaHR0cF9lcnJvcl8zMDIKIGh0dHBfZXJyb3JfMzAzID0gaHR0cF9lcnJvcl8zMDIKIGh0dHBfZXJyb3JfMzA3ID0gaHR0cF9lcnJvcl8zMDIKIGlmIDYwIC0gNjA6IG9PTyAqIG9vb09vTyAuIGlJaTExICsgSWlJSTFpMUkgJSBJSUlJICUgaWkxSTFpaTFJaUlpMQpjbGFzcyBpaWlJICggdXJsbGliMiAuIEhUVFBSZWRpcmVjdEhhbmRsZXIgKSA6CiBkZWYgcmVkaXJlY3RfcmVxdWVzdCAoIHNlbGYgLCByZXEgLCBmcCAsIGNvZGUgLCBtc2cgLCBoZWFkZXJzICwgbmV3dXJsICkgOgogIGlmICdBdXRob3JpemF0aW9uJyBpbiByZXEgLiBoZWFkZXJzIDoKICAgcmVxIC4gaGVhZGVycyAuIHBvcCAoICdBdXRob3JpemF0aW9uJyApCiAgcmV0dXJuIHVybGxpYjIgLiBIVFRQUmVkaXJlY3RIYW5kbGVyIC4gcmVkaXJlY3RfcmVxdWVzdCAoIHNlbGYgLCByZXEgLCBmcCAsIGNvZGUgLCBtc2cgLCBoZWFkZXJzICwgbmV3dXJsICkKICBpZiAxMCAtIDEwOiBPT29Pb08wbzBvME9PICogbzAwb08wb28wTzBPMCAuIGlpMUkxaWkxSWlJaTEKY2xhc3Mgb28wTzBPMCA6CiBkZWYgX19pbml0X18gKCBzZWxmICwgcmVzcG9uc2UgKSA6CiAgc2VsZiAuIHN1Y2VzcyA9IE5vbmUKICBzZWxmIC4gY29kZSA9IE5vbmUKICBzZWxmIC4gZXJyb3IgPSBOb25lCiAgc2VsZiAuIGhlYWRlcnMgPSBOb25lCiAgc2VsZiAuIGNvb2tpZXMgPSBOb25lCiAgc2VsZiAuIGRhdGEgPSBOb25lCiAgc2VsZiAuIHRpbWUgPSBOb25lCiAgc2VsZiAuIHVybCA9IE5vbmUKICBzZWxmIC4gX19kaWN0X18gPSByZXNwb25zZQogIGlmIDg2IC0gODY6IElpSUkxSWlJICsgSUlvb29PMG9vTzBvbyAlIGlpMUkxaWkxSWlJaTEKZGVmIElpaWkxMWlJaTFJMSAoIGJhcyApIDoKIEkxMWlJaUlJaSA9IEkxMTFJMTFJMTExMTEgKCBiYXMgKQogaWYgSTExaUlpSUlpID09ICcnIDoKICBJMTFpSWlJSWkgPSBPT28wMDAwb08gKCApCiBJMTFpSWlJSWkgPSB6bGliIC4gZGVjb21wcmVzcyAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggSTExaUlpSUlpICkgKQogaW1wb3J0IHhibWNhZGRvbgogb29vTzAgPSB4Ym1jYWRkb24gLiBBZGRvbiAoICkKIGlJMUkgPSB4Ym1jIC4gdHJhbnNsYXRlUGF0aCAoIG9vb08wIC4gZ2V0QWRkb25JbmZvICggJ3BhdGgnICkgLiBkZWNvZGUgKCAndXRmLTgnICkgKQogaWYgb3MgLiBwYXRoIC4gaXNmaWxlICggYmFzICkgOgogIHRyeSA6CiAgIGlmIDg3IC0gODc6IElJSUkgLiBvMDBvTzBvbzBPME8wIC0gSUlJSSAtIG9vT29vTzBPT08KICAgSTFpaWlpSUlJSSA9IEkxaWlJMUkgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdKWE12WW1Gc2NtOW5MbWx1Wm04PScgKSAlIEkxMWlJaUlJaSApCiAgIGlmIDE4IC0gMTg6IElJb29vTzBvb08wb28gKyBvMDBvTzBvbzBPME8wICUgb29Pb29PME9PTwogICBJaWlJSTFpSUkgPSBJMWlpaWlJSUlJIC4gc3BsaXQgKCAnICcgKQogICB0cnkgOgogICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgICBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiAgICBpZiA0NiAtIDQ2OiBJaQogICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdVMlZzWldOMElIWmxjbk5wYjI0c0lIWmxjbk5wYjI1ZllXUmtiMjRzSUdSaGRHRWdabkp2YlNCMlpYSnphVzl1JyApICkKICAgIG9PID0gT08wbyAuIGZldGNob25lICggKQogICAgSUlJaWkxSWkgLiBjbG9zZSAoICkKICAgIGkxMU8wTzAwbzBPT08wMDAgPSBzdHIgKCBvTyBbIDAgXSApCiAgICBpZiBpbnQgKCBpMTFPME8wMG8wT09PMDAwICkgPCBpbnQgKCBJaWlJSTFpSUkgWyAwIF0gKSA6CiAgICAgaWYgMjggLSAyODogSUlJSQogICAgIG9PT09PTyAoIGJhcyAsIG9vMG8gKCBJaWlJSTFpSUkgWyAxIF0gLiBzdHJpcCAoICkgKSApCiAgICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgICAgT08wbyA9IElJSWlpMUlpIC4gY3Vyc29yICggKQogICAgIGlmIDI0IC0gMjQ6IGlJaTExICsgT09vT29PMG8wbzBPTyAtIElpSUkxSWlJIC8gSUlJSSArIElpCiAgICAgT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdjMlZzWldOMElHMWxibk5oYW1WZmRYQmtZWFJsTENCdWIzUnBabWxqWVdOcGIyNWZkWEJrWVhSbElHWnliMjBnZG1WeWMybHZiZz09JyApICkKICAgICBvTyA9IE9PMG8gLiBmZXRjaG9uZSAoICkKICAgICBJSUlpaTFJaSAuIGNsb3NlICggKQogICAgIGlmIG9PIFsgMSBdIDoKICAgICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgb08gWyAxIF0gLCB4Ym1jZ3VpIC4gTk9USUZJQ0FUSU9OX0lORk8gLCA5MDAwICkKICAgICBpZiBvTyBbIDAgXSA6CiAgICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gb2sgKCAnUGFsYW50aXInICwgb08gWyAwIF0gKQogICBleGNlcHQgOgogICAgb09PT09PICggYmFzICwgb28wbyAoIElpaUlJMWlJSSBbIDEgXSAuIHN0cmlwICggKSApICkKICBleGNlcHQgKCBIVFRQRXJyb3IgLCBVUkxFcnJvciApIGFzIG8wbzAwMDBPMCA6CiAgIHRyYWNlYmFjayAuIHByaW50X2V4YyAoIGZpbGUgPSBzeXMgLiBzdGRvdXQgKQogICBpaWkgPSAnTm8gcHVlZG8gYWN0dWFsaXphcm1lLHJldmlzYSBpbnRlcm5ldCcKICAgeGJtY2d1aSAuIERpYWxvZyAoICkgLiBub3RpZmljYXRpb24gKCAnUGFsYW50aXInICwgaWlpICwgeGJtY2d1aSAuIE5PVElGSUNBVElPTl9XQVJOSU5HICwgNTAwMCApCiBlbHNlIDoKICB0cnkgOgogICBpZiA1MiAtIDUyOiBpMWlJMQogICBpZiA3MyAtIDczOiBJaUlJMUlpSSAuIElpSUkxaTFJIC0gSTEgLyBJMSAlIElpSUkxaTFJIC4gb29Pb29PME9PTwogICBJMWlpaWlJSUlJID0gSTFpaUkxSSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZZbUZzY205bkxtbHVabTg9JyApICUgSTExaUlpSUlpICkKICAgSWlpSUkxaUlJID0gSTFpaWlpSUlJSSAuIHNwbGl0ICggJyAnICkKICAgb09PT09PICggYmFzICwgb28wbyAoIElpaUlJMWlJSSBbIDEgXSAuIHN0cmlwICggKSApICkKICAgSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiAgIE9PMG8gPSBJSUlpaTFJaSAuIGN1cnNvciAoICkKICAgaWYgNTcgLSA1NzogbzAwb08wb28wTzBPMCAqIElJb29vTzBvb08wb28gLSBJaTFJCiAgIE9PMG8gLiBleGVjdXRlICggYmFzZTY0IC4gdXJsc2FmZV9iNjRkZWNvZGUgKCAnYzJWc1pXTjBJRzFsYm5OaGFtVmZhVzVwWTJsaGJDQm1jbTl0SUhabGNuTnBiMjQ9JyApICkKICAgb08gPSBPTzBvIC4gZmV0Y2hvbmUgKCApCiAgIElJSWlpMUlpIC4gY2xvc2UgKCApCiAgIGlmIG9PIFsgMCBdIDoKICAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gb2sgKCAnUGFsYW50aXInICwgb08gWyAwIF0gKQogIGV4Y2VwdCBIVFRQRXJyb3IgOgogICBpaWkgPSAnTm8gcHVlZG8gY2FyZ2FyIGVsIGFkZG9uLCByZXZpc2EgaW50ZXJuZXQnCiAgIHhibWNndWkgLiBEaWFsb2cgKCApIC4gbm90aWZpY2F0aW9uICggJ1BhbGFudGlyJyAsIGlpaSAsIHhibWNndWkgLiBOT1RJRklDQVRJT05fRVJST1IgLCA1MDAwICkKICAgeGJtYyAuIGV4ZWN1dGVidWlsdGluICggJ0FjdGlvbihCYWNrKScgKQogICBpZiAyNyAtIDI3OiBJaUlJMWkxSSAqIElJSUkgKiBvb29Pb08gLyBJMSAtIGlpMUkxaWkxSWlJaTEKIGlmIG9zIC4gcGF0aCAuIGlzZmlsZSAoIGJhc2U2NCAuIHVybHNhZmVfYjY0ZGVjb2RlICggJ0pYTXZhWFJvYVd3dWNIaz0nICkgJSBpSTFJICkgOgogIGlmIDcwIC0gNzA6IElpICogb29Pb29PME9PTyAqIGlJaTExICsgSTEgJSBPT08gLiBvbwogIHBhc3MKICBpZiA4MCAtIDgwOiBvMDBvTzBvbzBPME8wIC8gSUlJSQogSUlJaWkxSWkgPSBzcWxpdGUzIC4gY29ubmVjdCAoIGJhcyApCiBPTzBvID0gSUlJaWkxSWkgLiBjdXJzb3IgKCApCiBpZiAzMCAtIDMwOiBvb29Pb08gLSBJSW9vb08wb29PMG9vIC0gbzAwb08wb28wTzBPMCArIElpSUkxaTFJIC8gb28gLSBJMQogT08wbyAuIGV4ZWN1dGUgKCBiYXNlNjQgLiB1cmxzYWZlX2I2NGRlY29kZSAoICdVMlZzWldOMElIWmxjbk5wYjI0c0lIWmxjbk5wYjI1ZllXUmtiMjRzSUdSaGRHRWdabkp2YlNCMlpYSnphVzl1JyApICkKIG9PID0gT08wbyAuIGZldGNob25lICggKQogSUlJaWkxSWkgLiBjbG9zZSAoICkKIElpSWlpSWlpMSA9IG9vb08wIC4gZ2V0QWRkb25JbmZvICggJ3ZlcnNpb24nICkgLiBkZWNvZGUgKCAndXRmLTgnICkKIGlmIGludCAoIElpSWlpSWlpMSAuIHJlcGxhY2UgKCAnLicgLCAnJyApICkgPCBvTyBbIDEgXSA6CiAgaUkxMWlpSUlpSWkgPSBvTyBbIDIgXSAuIHNwbGl0ICggJyAnICkKICBmb3IgTzAwT29vMG8wT08gLCBvb29vb08wb29vTyBpbiB6aXAgKCBpSTExaWlJSWlJaSBbIDAgOiA6IDIgXSAsIGlJMTFpaUlJaUlpIFsgMSA6IDogMiBdICkgOgogICBpaUlJID0gemxpYiAuIGRlY29tcHJlc3MgKCBiYXNlNjQgLiBiNjRkZWNvZGUgKCBvb29vb08wb29vTyApICkKICAgaWlJaWkxSUlpMUkgPSBvcGVuICggJyVzLyVzJyAlICggaUkxSSAsIGJhc2U2NCAuIGI2NGRlY29kZSAoIE8wME9vbzBvME9PICkgKSAsICd3YicgKQogICBpZiA1NSAtIDU1OiBpaTFJMWlpMUlpSWkxICogbzAwb08wb28wTzBPMCAtIG8wMG9PMG9vME8wTzAgKyBJSW9vb08wb29PMG9vICogT09PCiAgIGlpSWlpMUlJaTFJIC4gY2xvc2UgKCApCiAgIGlmIDI3IC0gMjc6IG9vb09vTyAtIElJSUkKIyA4MDdjYjFiZmZmYjIzNGRhY2UzZjkzMGY1NzFhOTAzOWQ3NmY0Y2Y5Cg==')